<!doctype html>
<html lang="id" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pertumbuhan dan Perkembangan Hewan</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&amp;family=Fredoka+One&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
    }
    
    * {
      font-family: 'Nunito', sans-serif;
    }
    
    .title-font {
      font-family: 'Fredoka One', cursive;
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    .card-hover {
      transition: all 0.3s ease;
    }
    
    .card-hover:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    }
    
    .nav-item {
      transition: all 0.2s ease;
    }
    
    .nav-item:hover, .nav-item.active {
      background: rgba(255,255,255,0.2);
      transform: scale(1.02);
    }
    
    .metamorphosis-stage {
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    .float-animation {
      animation: float 3s ease-in-out infinite;
    }
    
    .progress-bar {
      transition: width 0.5s ease;
    }
    
    .quiz-option {
      transition: all 0.2s ease;
    }
    
    .quiz-option:hover:not(:disabled) {
      transform: scale(1.02);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    
    .correct {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important;
      color: white !important;
    }
    
    .incorrect {
      background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%) !important;
      color: white !important;
    }
    
    .section-hidden {
      display: none;
    }
    
    .illustration-card {
      background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
      border: 2px solid #e2e8f0;
    }
    
    .tab-active {
      background: white;
      color: #6366f1;
      box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
    }
    
    .interactive-element {
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .interactive-element:hover {
      filter: brightness(1.1);
    }
    
    .egg-diagram-part {
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .egg-diagram-part:hover {
      filter: drop-shadow(0 0 8px rgba(99, 102, 241, 0.6));
    }
    
    .lifecycle-connector {
      stroke-dasharray: 5;
      animation: dash 20s linear infinite;
    }
    
    @keyframes dash {
      to { stroke-dashoffset: -100; }
    }
    
    .badge {
      display: inline-flex;
      align-items: center;
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-size: 0.75rem;
      font-weight: 600;
    }
    
    .scroll-smooth {
      scroll-behavior: smooth;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full bg-slate-50 overflow-auto scroll-smooth">
  <div id="app" class="w-full h-full"><!-- Header -->
   <header class="gradient-bg text-white sticky top-0 z-50 shadow-lg">
    <div class="max-w-7xl mx-auto px-4 py-4">
     <div class="flex items-center justify-between">
      <div class="flex items-center gap-3">
       <div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center"><span class="text-2xl">ğŸ¦‹</span>
       </div>
       <div>
        <h1 id="main-title" class="title-font text-xl md:text-2xl">Pertumbuhan &amp; Perkembangan Hewan</h1>
        <p id="teacher-display" class="text-white/80 text-sm">Pembelajaran Interaktif IPA</p>
       </div>
      </div>
      <div class="hidden md:flex items-center gap-2 bg-white/10 rounded-full px-4 py-2"><span class="text-sm">Progress:</span>
       <div class="w-32 h-2 bg-white/30 rounded-full overflow-hidden">
        <div id="progress-bar" class="progress-bar h-full bg-yellow-400 rounded-full" style="width: 0%"></div>
       </div><span id="progress-text" class="text-sm font-bold">0%</span>
      </div>
     </div>
    </div><!-- Navigation -->
    <nav class="max-w-7xl mx-auto px-4 pb-3">
     <div class="flex gap-2 overflow-x-auto pb-2 scrollbar-hide"><button onclick="showSection('intro')" class="nav-item active px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap" data-section="intro"> ğŸ  Pendahuluan </button> <button onclick="showSection('embrio')" class="nav-item px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap" data-section="embrio"> ğŸ¥š Perkembangan Embrio </button> <button onclick="showSection('telur')" class="nav-item px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap" data-section="telur"> ğŸ”¬ Struktur Telur </button> <button onclick="showSection('vivipar')" class="nav-item px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap" data-section="vivipar"> ğŸ± Sistem Vivipar </button> <button onclick="showSection('metamorfosis')" class="nav-item px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap" data-section="metamorfosis"> ğŸ¦‹ Metamorfosis </button> <button onclick="showSection('lobster')" class="nav-item px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap" data-section="lobster"> ğŸ¦ Siklus Lobster </button> <button onclick="showSection('quiz')" class="nav-item px-4 py-2 rounded-full text-sm font-semibold whitespace-nowrap bg-yellow-400 text-purple-900" data-section="quiz"> ğŸ“ Kuis HOTS </button>
     </div>
    </nav>
   </header><!-- Main Content -->
   <main class="max-w-7xl mx-auto px-4 py-8"><!-- Section 1: Pendahuluan -->
    <section id="section-intro" class="space-y-8">
     <div class="text-center mb-8"><span class="badge bg-purple-100 text-purple-700 mb-2">BAB 1</span>
      <h2 class="title-font text-3xl md:text-4xl text-gray-800 mb-2">Keajaiban Metamorfosis</h2>
      <p class="text-gray-600 max-w-2xl mx-auto">Perjalanan menakjubkan dari telur hingga dewasa</p>
     </div><!-- Butterfly Metamorphosis Interactive -->
     <div class="bg-white rounded-3xl shadow-xl p-6 md:p-8 card-hover">
      <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center gap-2"><span class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center">ğŸ¦‹</span> Metamorfosis Kupu-kupu</h3>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
       <div class="illustration-card rounded-2xl p-4 text-center interactive-element" onclick="showMetamorphosisDetail('telur')">
        <div class="w-24 h-24 mx-auto mb-3 rounded-full bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center">
         <svg viewbox="0 0 80 80" class="w-16 h-16"><ellipse cx="40" cy="45" rx="15" ry="20" fill="#90EE90" stroke="#228B22" stroke-width="2" /> <ellipse cx="40" cy="40" rx="8" ry="10" fill="#FFFACD" opacity="0.5" /> <circle cx="40" cy="35" r="3" fill="#8B4513" />
         </svg>
        </div><span class="badge bg-green-100 text-green-700 mb-2">Fase 1</span>
        <h4 class="font-bold text-gray-800">Telur</h4>
        <p class="text-xs text-gray-500 mt-1">Diletakkan di daun</p>
       </div>
       <div class="illustration-card rounded-2xl p-4 text-center interactive-element" onclick="showMetamorphosisDetail('ulat')">
        <div class="w-24 h-24 mx-auto mb-3 rounded-full bg-gradient-to-br from-yellow-100 to-yellow-200 flex items-center justify-center">
         <svg viewbox="0 0 80 80" class="w-16 h-16"><ellipse cx="20" cy="50" rx="8" ry="6" fill="#90EE90" /> <ellipse cx="32" cy="48" rx="7" ry="6" fill="#7CFC00" /> <ellipse cx="43" cy="47" rx="7" ry="6" fill="#90EE90" /> <ellipse cx="54" cy="48" rx="7" ry="6" fill="#7CFC00" /> <ellipse cx="64" cy="50" rx="6" ry="5" fill="#90EE90" /> <circle cx="16" cy="47" r="4" fill="#8B4513" /> <circle cx="14" cy="45" r="1.5" fill="black" /> <line x1="12" y1="42" x2="8" y2="38" stroke="#333" stroke-width="1.5" /> <line x1="16" y1="42" x2="18" y2="38" stroke="#333" stroke-width="1.5" />
         </svg>
        </div><span class="badge bg-yellow-100 text-yellow-700 mb-2">Fase 2</span>
        <h4 class="font-bold text-gray-800">Larva (Ulat)</h4>
        <p class="text-xs text-gray-500 mt-1">Makan daun terus-menerus</p>
       </div>
       <div class="illustration-card rounded-2xl p-4 text-center interactive-element" onclick="showMetamorphosisDetail('pupa')">
        <div class="w-24 h-24 mx-auto mb-3 rounded-full bg-gradient-to-br from-amber-100 to-amber-200 flex items-center justify-center">
         <svg viewbox="0 0 80 80" class="w-16 h-16"><path d="M40 15 Q55 25 55 50 Q55 70 40 75 Q25 70 25 50 Q25 25 40 15" fill="#8B4513" stroke="#5D3A1A" stroke-width="2" /> <path d="M35 25 Q40 20 45 25" fill="none" stroke="#DAA520" stroke-width="2" /> <path d="M33 35 L47 35" stroke="#DAA520" stroke-width="1.5" /> <path d="M32 45 L48 45" stroke="#DAA520" stroke-width="1.5" /> <path d="M33 55 L47 55" stroke="#DAA520" stroke-width="1.5" /> <ellipse cx="40" cy="50" rx="10" ry="18" fill="none" stroke="#DAA520" stroke-width="1" opacity="0.5" />
         </svg>
        </div><span class="badge bg-amber-100 text-amber-700 mb-2">Fase 3</span>
        <h4 class="font-bold text-gray-800">Pupa (Kepompong)</h4>
        <p class="text-xs text-gray-500 mt-1">Transformasi dalam</p>
       </div>
       <div class="illustration-card rounded-2xl p-4 text-center interactive-element" onclick="showMetamorphosisDetail('imago')">
        <div class="w-24 h-24 mx-auto mb-3 rounded-full bg-gradient-to-br from-purple-100 to-pink-200 flex items-center justify-center float-animation">
         <svg viewbox="0 0 80 80" class="w-16 h-16"><ellipse cx="40" cy="45" rx="4" ry="12" fill="#333" /> <circle cx="40" cy="30" r="5" fill="#333" /> <path d="M40 25 Q60 15 65 35 Q60 55 40 50" fill="url(#wing1)" stroke="#FF69B4" stroke-width="1" /> <path d="M40 25 Q20 15 15 35 Q20 55 40 50" fill="url(#wing2)" stroke="#FF69B4" stroke-width="1" /> <circle cx="55" cy="30" r="4" fill="#FF1493" /> <circle cx="25" cy="30" r="4" fill="#FF1493" /> <circle cx="55" cy="42" r="3" fill="#9370DB" /> <circle cx="25" cy="42" r="3" fill="#9370DB" /> <line x1="38" y1="26" x2="34" y2="20" stroke="#333" stroke-width="1.5" /> <line x1="42" y1="26" x2="46" y2="20" stroke="#333" stroke-width="1.5" /> <defs>
           <lineargradient id="wing1" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#FFB6C1" />
            <stop offset="100%" style="stop-color:#FF69B4" />
           </lineargradient>
           <lineargradient id="wing2" x1="100%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#FFB6C1" />
            <stop offset="100%" style="stop-color:#FF69B4" />
           </lineargradient>
          </defs>
         </svg>
        </div><span class="badge bg-purple-100 text-purple-700 mb-2">Fase 4</span>
        <h4 class="font-bold text-gray-800">Imago (Dewasa)</h4>
        <p class="text-xs text-gray-500 mt-1">Kupu-kupu cantik</p>
       </div>
      </div><!-- Detail Box -->
      <div id="metamorphosis-detail" class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-6 border-2 border-purple-200">
       <div class="flex items-start gap-4">
        <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white text-xl flex-shrink-0">
         ğŸ’¡
        </div>
        <div>
         <h4 class="font-bold text-purple-800 mb-2">Apa itu Metamorfosis?</h4>
         <p class="text-gray-700"><strong>Metamorfosis</strong> adalah proses perubahan bentuk tubuh secara drastis yang dialami hewan selama pertumbuhannya. Klik pada setiap fase di atas untuk mempelajari lebih detail!</p>
        </div>
       </div>
      </div>
     </div><!-- Reproduction Types -->
     <div class="bg-white rounded-3xl shadow-xl p-6 md:p-8 card-hover">
      <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center gap-2"><span class="w-8 h-8 bg-pink-100 rounded-full flex items-center justify-center">ğŸ’•</span> Reproduksi Seksual pada Hewan</h3>
      <div class="grid md:grid-cols-3 gap-6">
       <div class="bg-gradient-to-br from-orange-50 to-yellow-50 rounded-2xl p-5 border-2 border-orange-200">
        <div class="text-4xl mb-3">
         ğŸ±
        </div>
        <h4 class="font-bold text-gray-800 mb-2">Mamalia</h4>
        <p class="text-sm text-gray-600">Kucing, anjing, dan manusia bereproduksi dengan pertemuan sel sperma dan sel telur di dalam tubuh induk betina.</p>
       </div>
       <div class="bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl p-5 border-2 border-blue-200">
        <div class="text-4xl mb-3">
         ğŸŸ
        </div>
        <h4 class="font-bold text-gray-800 mb-2">Ikan</h4>
        <p class="text-sm text-gray-600">Kebanyakan ikan melakukan pembuahan eksternal di air, di mana sel telur dan sperma bertemu di luar tubuh.</p>
       </div>
       <div class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-5 border-2 border-green-200">
        <div class="text-4xl mb-3">
         ğŸ¦
        </div>
        <h4 class="font-bold text-gray-800 mb-2">Burung</h4>
        <p class="text-sm text-gray-600">Burung melakukan pembuahan internal, kemudian telur yang sudah dibuahi dikeluarkan dan dierami.</p>
       </div>
      </div>
     </div><button onclick="showSection('embrio'); updateProgress(15)" class="w-full md:w-auto mx-auto block bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-full font-bold text-lg shadow-lg hover:shadow-xl transition-all hover:scale-105"> Lanjut ke Perkembangan Embrio â†’ </button>
    </section><!-- Section 2: Perkembangan Embrio -->
    <section id="section-embrio" class="space-y-8 section-hidden">
     <div class="text-center mb-8"><span class="badge bg-blue-100 text-blue-700 mb-2">BAB 2</span>
      <h2 class="title-font text-3xl md:text-4xl text-gray-800 mb-2">Perkembangan Embrio</h2>
      <p class="text-gray-600 max-w-2xl mx-auto">Tiga cara berbeda embrio berkembang menjadi individu baru</p>
     </div><!-- Interactive Tabs -->
     <div class="bg-white rounded-3xl shadow-xl overflow-hidden">
      <div class="flex border-b"><button onclick="showEmbryoTab('ovipar')" id="tab-ovipar" class="flex-1 px-4 py-4 font-bold text-center tab-active transition-all"> ğŸ¥š Ovipar </button> <button onclick="showEmbryoTab('ovovivipar')" id="tab-ovovivipar" class="flex-1 px-4 py-4 font-bold text-center text-gray-500 hover:bg-gray-50 transition-all"> ğŸ¥šğŸ£ Ovovivipar </button> <button onclick="showEmbryoTab('vivipar')" id="tab-vivipar" class="flex-1 px-4 py-4 font-bold text-center text-gray-500 hover:bg-gray-50 transition-all"> ğŸ± Vivipar </button>
      </div><!-- Ovipar Content -->
      <div id="content-ovipar" class="p-6 md:p-8">
       <div class="grid md:grid-cols-2 gap-8 items-center">
        <div>
         <div class="flex items-center gap-3 mb-4"><span class="badge bg-yellow-100 text-yellow-700">OVIPAR</span> <span class="text-2xl">ğŸ¥š</span>
         </div>
         <h3 class="text-2xl font-bold text-gray-800 mb-4">Hewan Bertelur</h3>
         <p class="text-gray-600 mb-4">Embrio berkembang di dalam <strong>telur di luar tubuh induk</strong>. Telur mengandung semua nutrisi yang diperlukan untuk perkembangan embrio hingga menetas.</p>
         <div class="space-y-3">
          <div class="flex items-center gap-3 bg-yellow-50 rounded-lg p-3"><span class="text-2xl">ğŸ¦</span>
           <div><span class="font-semibold">Reptil</span>
            <p class="text-xs text-gray-500">Kadal, buaya, penyu</p>
           </div>
          </div>
          <div class="flex items-center gap-3 bg-blue-50 rounded-lg p-3"><span class="text-2xl">ğŸ¦</span>
           <div><span class="font-semibold">Burung</span>
            <p class="text-xs text-gray-500">Ayam, bebek, elang</p>
           </div>
          </div>
          <div class="flex items-center gap-3 bg-green-50 rounded-lg p-3"><span class="text-2xl">ğŸ›</span>
           <div><span class="font-semibold">Serangga</span>
            <p class="text-xs text-gray-500">Kupu-kupu, kumbang, semut</p>
           </div>
          </div>
          <div class="flex items-center gap-3 bg-cyan-50 rounded-lg p-3"><span class="text-2xl">ğŸŸ</span>
           <div><span class="font-semibold">Ikan</span>
            <p class="text-xs text-gray-500">Salmon, lele, mas</p>
           </div>
          </div>
         </div>
        </div>
        <div class="bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl p-6">
         <svg viewbox="0 0 300 250" class="w-full max-w-sm mx-auto"><!-- Nest --> <ellipse cx="150" cy="200" rx="120" ry="30" fill="#8B4513" /> <ellipse cx="150" cy="195" rx="100" ry="25" fill="#A0522D" /> <!-- Eggs --> <ellipse cx="100" cy="170" rx="30" ry="40" fill="#FFF8DC" stroke="#DEB887" stroke-width="2" /> <ellipse cx="150" cy="160" rx="30" ry="40" fill="#FFF8DC" stroke="#DEB887" stroke-width="2" /> <ellipse cx="200" cy="170" rx="30" ry="40" fill="#FFF8DC" stroke="#DEB887" stroke-width="2" /> <!-- Embryo inside middle egg --> <ellipse cx="150" cy="165" rx="15" ry="20" fill="#FFE4B5" opacity="0.7" /> <circle cx="150" cy="155" r="8" fill="#FFDAB9" /> <circle cx="148" cy="153" r="2" fill="#333" /> <!-- Bird mother --> <ellipse cx="150" cy="80" rx="40" ry="35" fill="#FFD700" /> <circle cx="150" cy="50" r="20" fill="#FFD700" /> <polygon points="150,55 140,65 160,65" fill="#FF6600" /> <circle cx="145" cy="48" r="3" fill="#333" /> <circle cx="155" cy="48" r="3" fill="#333" /> <!-- Wings --> <ellipse cx="110" cy="85" rx="20" ry="15" fill="#FFA500" /> <ellipse cx="190" cy="85" rx="20" ry="15" fill="#FFA500" /> <text x="150" y="240" text-anchor="middle" font-size="12" fill="#666">
           Induk mengerami telur di sarang
          </text>
         </svg>
        </div>
       </div>
      </div><!-- Ovovivipar Content -->
      <div id="content-ovovivipar" class="p-6 md:p-8 hidden">
       <div class="grid md:grid-cols-2 gap-8 items-center">
        <div>
         <div class="flex items-center gap-3 mb-4"><span class="badge bg-purple-100 text-purple-700">OVOVIVIPAR</span> <span class="text-2xl">ğŸ¥šğŸ£</span>
         </div>
         <h3 class="text-2xl font-bold text-gray-800 mb-4">Bertelur-Beranak</h3>
         <p class="text-gray-600 mb-4">Embrio berkembang di dalam telur, tetapi <strong>telur tetap berada di dalam tubuh induk</strong> sampai siap menetas. Anak lahir sudah dalam bentuk sempurna.</p>
         <div class="space-y-3">
          <div class="flex items-center gap-3 bg-blue-50 rounded-lg p-3"><span class="text-2xl">ğŸ¦ˆ</span>
           <div><span class="font-semibold">Hiu</span>
            <p class="text-xs text-gray-500">Beberapa spesies hiu</p>
           </div>
          </div>
          <div class="flex items-center gap-3 bg-cyan-50 rounded-lg p-3"><span class="text-2xl">ğŸ´</span>
           <div><span class="font-semibold">Kuda Laut</span>
            <p class="text-xs text-gray-500">Jantan membawa telur!</p>
           </div>
          </div>
          <div class="flex items-center gap-3 bg-green-50 rounded-lg p-3"><span class="text-2xl">ğŸ¦</span>
           <div><span class="font-semibold">Iguana</span>
            <p class="text-xs text-gray-500">Beberapa spesies kadal</p>
           </div>
          </div>
          <div class="flex items-center gap-3 bg-amber-50 rounded-lg p-3"><span class="text-2xl">ğŸ¦†</span>
           <div><span class="font-semibold">Platypus</span>
            <p class="text-xs text-gray-500">Mamalia unik bertelur</p>
           </div>
          </div>
         </div>
        </div>
        <div class="bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-6">
         <svg viewbox="0 0 300 250" class="w-full max-w-sm mx-auto"><!-- Shark body --> <ellipse cx="150" cy="100" rx="100" ry="50" fill="#708090" /> <!-- Shark tail --> <polygon points="250,100 290,70 290,130" fill="#708090" /> <!-- Shark fin --> <polygon points="150,50 170,20 175,50" fill="#708090" /> <!-- Shark eye --> <circle cx="70" cy="90" r="8" fill="white" /> <circle cx="70" cy="90" r="4" fill="#333" /> <!-- Shark mouth --> <path d="M50 110 Q70 120 90 110" fill="none" stroke="#333" stroke-width="2" /> <!-- Eggs inside shark --> <ellipse cx="140" cy="100" rx="15" ry="20" fill="#FFE4B5" stroke="#DEB887" stroke-width="1" /> <ellipse cx="170" cy="105" rx="12" ry="16" fill="#FFE4B5" stroke="#DEB887" stroke-width="1" /> <ellipse cx="195" cy="100" rx="10" ry="14" fill="#FFE4B5" stroke="#DEB887" stroke-width="1" /> <!-- Baby shark embryos --> <circle cx="140" cy="98" r="6" fill="#A9A9A9" /> <circle cx="170" cy="103" r="5" fill="#A9A9A9" /> <!-- Label --> <text x="150" y="180" text-anchor="middle" font-size="11" fill="#666">
           Telur berkembang di dalam tubuh hiu
          </text> <text x="150" y="195" text-anchor="middle" font-size="11" fill="#666">
           hingga bayi siap dilahirkan
          </text> <!-- Arrow pointing to eggs --> <path d="M150 150 L150 130" fill="none" stroke="#9370DB" stroke-width="2" marker-end="url(#arrowhead)" /> <defs>
           <marker id="arrowhead" markerwidth="10" markerheight="7" refx="9" refy="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#9370DB" />
           </marker>
          </defs>
         </svg>
        </div>
       </div>
      </div><!-- Vivipar Content -->
      <div id="content-vivipar" class="p-6 md:p-8 hidden">
       <div class="grid md:grid-cols-2 gap-8 items-center">
        <div>
         <div class="flex items-center gap-3 mb-4"><span class="badge bg-pink-100 text-pink-700">VIVIPAR</span> <span class="text-2xl">ğŸ±</span>
         </div>
         <h3 class="text-2xl font-bold text-gray-800 mb-4">Hewan Melahirkan</h3>
         <p class="text-gray-600 mb-4">Embrio berkembang di dalam <strong>tubuh induk</strong> dan terhubung melalui <strong>plasenta</strong>. Induk memberikan nutrisi dan oksigen langsung kepada embrio.</p>
         <div class="space-y-3">
          <div class="flex items-center gap-3 bg-pink-50 rounded-lg p-3"><span class="text-2xl">ğŸ‘¶</span>
           <div><span class="font-semibold">Manusia</span>
            <p class="text-xs text-gray-500">Kehamilan 9 bulan</p>
           </div>
          </div>
          <div class="flex items-center gap-3 bg-orange-50 rounded-lg p-3"><span class="text-2xl">ğŸ±</span>
           <div><span class="font-semibold">Kucing</span>
            <p class="text-xs text-gray-500">Kehamilan 2 bulan</p>
           </div>
          </div>
          <div class="flex items-center gap-3 bg-blue-50 rounded-lg p-3"><span class="text-2xl">ğŸ‹</span>
           <div><span class="font-semibold">Paus</span>
            <p class="text-xs text-gray-500">Kehamilan 10-12 bulan</p>
           </div>
          </div>
          <div class="flex items-center gap-3 bg-gray-50 rounded-lg p-3"><span class="text-2xl">ğŸ˜</span>
           <div><span class="font-semibold">Gajah</span>
            <p class="text-xs text-gray-500">Kehamilan 22 bulan!</p>
           </div>
          </div>
         </div>
        </div>
        <div class="bg-gradient-to-br from-pink-50 to-red-50 rounded-2xl p-6">
         <svg viewbox="0 0 300 250" class="w-full max-w-sm mx-auto"><!-- Mother cat body --> <ellipse cx="150" cy="140" rx="90" ry="60" fill="#FFA500" /> <!-- Cat head --> <circle cx="80" cy="100" r="35" fill="#FFA500" /> <!-- Cat ears --> <polygon points="55,70 65,40 80,65" fill="#FFA500" /> <polygon points="95,65 105,40 115,70" fill="#FFA500" /> <polygon points="60,68 68,48 78,65" fill="#FFB6C1" /> <polygon points="92,65 102,48 110,68" fill="#FFB6C1" /> <!-- Cat face --> <ellipse cx="70" cy="95" rx="8" ry="10" fill="white" /> <ellipse cx="95" cy="95" rx="8" ry="10" fill="white" /> <circle cx="70" cy="97" r="5" fill="#228B22" /> <circle cx="95" cy="97" r="5" fill="#228B22" /> <circle cx="70" cy="97" r="2" fill="black" /> <circle cx="95" cy="97" r="2" fill="black" /> <ellipse cx="82" cy="110" rx="5" ry="3" fill="#FFB6C1" /> <!-- Whiskers --> <line x1="50" y1="105" x2="30" y2="100" stroke="#333" stroke-width="1" /> <line x1="50" y1="110" x2="30" y2="112" stroke="#333" stroke-width="1" /> <line x1="115" y1="105" x2="135" y2="100" stroke="#333" stroke-width="1" /> <line x1="115" y1="110" x2="135" y2="112" stroke="#333" stroke-width="1" /> <!-- Uterus with kitten --> <ellipse cx="170" cy="145" rx="40" ry="35" fill="#FFE4E1" stroke="#FF69B4" stroke-width="2" stroke-dasharray="5" /> <!-- Baby kitten --> <ellipse cx="170" cy="150" rx="20" ry="15" fill="#FFDAB9" /> <circle cx="160" cy="145" r="10" fill="#FFDAB9" /> <circle cx="158" cy="143" r="2" fill="#333" /> <!-- Umbilical cord --> <path d="M180 155 Q200 160 210 145" fill="none" stroke="#FF69B4" stroke-width="3" /> <!-- Placenta --> <ellipse cx="220" cy="140" rx="15" ry="20" fill="#FF69B4" opacity="0.5" /> <!-- Labels --> <text x="170" y="200" text-anchor="middle" font-size="10" fill="#666">
           Embrio
          </text> <text x="220" y="170" text-anchor="middle" font-size="9" fill="#FF69B4">
           Plasenta
          </text> <text x="150" y="230" text-anchor="middle" font-size="11" fill="#666">
           Embrio berkembang dalam rahim induk
          </text>
         </svg>
        </div>
       </div>
      </div>
     </div><!-- Comparison Table -->
     <div class="bg-white rounded-3xl shadow-xl p-6 md:p-8 card-hover overflow-x-auto">
      <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center gap-2"><span class="w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center">ğŸ“Š</span> Perbandingan Tiga Tipe Perkembangan</h3>
      <table class="w-full min-w-[600px]">
       <thead>
        <tr class="bg-gradient-to-r from-indigo-500 to-purple-500 text-white">
         <th class="px-4 py-3 rounded-tl-xl">Aspek</th>
         <th class="px-4 py-3">ğŸ¥š Ovipar</th>
         <th class="px-4 py-3">ğŸ¥šğŸ£ Ovovivipar</th>
         <th class="px-4 py-3 rounded-tr-xl">ğŸ± Vivipar</th>
        </tr>
       </thead>
       <tbody class="text-center">
        <tr class="bg-gray-50">
         <td class="px-4 py-3 font-semibold text-left">Tempat Perkembangan</td>
         <td class="px-4 py-3">Telur di luar tubuh</td>
         <td class="px-4 py-3">Telur di dalam tubuh</td>
         <td class="px-4 py-3">Rahim induk</td>
        </tr>
        <tr>
         <td class="px-4 py-3 font-semibold text-left">Sumber Nutrisi</td>
         <td class="px-4 py-3">Kuning telur</td>
         <td class="px-4 py-3">Kuning telur</td>
         <td class="px-4 py-3">Plasenta (dari induk)</td>
        </tr>
        <tr class="bg-gray-50">
         <td class="px-4 py-3 font-semibold text-left">Perlindungan Embrio</td>
         <td class="px-4 py-3">Cangkang telur</td>
         <td class="px-4 py-3">Tubuh induk + cangkang</td>
         <td class="px-4 py-3">Tubuh induk + cairan amnion</td>
        </tr>
        <tr>
         <td class="px-4 py-3 font-semibold text-left">Contoh Hewan</td>
         <td class="px-4 py-3">Ayam, Penyu, Ikan</td>
         <td class="px-4 py-3">Hiu, Kuda laut</td>
         <td class="px-4 py-3">Kucing, Paus, Manusia</td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="flex gap-4 justify-center"><button onclick="showSection('intro')" class="bg-gray-200 text-gray-700 px-6 py-3 rounded-full font-bold hover:bg-gray-300 transition-all"> â† Kembali </button> <button onclick="showSection('telur'); updateProgress(30)" class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-full font-bold shadow-lg hover:shadow-xl transition-all hover:scale-105"> Lanjut ke Struktur Telur â†’ </button>
     </div>
    </section><!-- Section 3: Struktur Telur -->
    <section id="section-telur" class="space-y-8 section-hidden">
     <div class="text-center mb-8"><span class="badge bg-yellow-100 text-yellow-700 mb-2">BAB 3</span>
      <h2 class="title-font text-3xl md:text-4xl text-gray-800 mb-2">Struktur Telur Amniotik</h2>
      <p class="text-gray-600 max-w-2xl mx-auto">Perlindungan sempurna untuk embrio hewan darat</p>
     </div><!-- Interactive Egg Diagram -->
     <div class="bg-white rounded-3xl shadow-xl p-6 md:p-8 card-hover">
      <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center gap-2"><span class="w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center">ğŸ”¬</span> Anatomi Telur Interaktif <span class="text-sm font-normal text-gray-500 ml-2">Klik bagian telur untuk melihat fungsinya!</span></h3>
      <div class="grid md:grid-cols-2 gap-8 items-center">
       <div class="relative">
        <svg viewbox="0 0 400 350" class="w-full max-w-md mx-auto"><!-- Egg shell outline --> <ellipse cx="200" cy="175" rx="150" ry="140" fill="#FFF8DC" stroke="#DEB887" stroke-width="4" class="egg-diagram-part" onclick="showEggPart('cangkang')" /> <!-- Albumen (egg white) --> <ellipse cx="200" cy="175" rx="120" ry="110" fill="#FFFACD" opacity="0.7" class="egg-diagram-part" onclick="showEggPart('albumen')" /> <!-- Amnion (inner membrane) --> <ellipse cx="180" cy="175" rx="70" ry="60" fill="#87CEEB" opacity="0.5" stroke="#4169E1" stroke-width="2" stroke-dasharray="5" class="egg-diagram-part" onclick="showEggPart('amnion')" /> <!-- Yolk (kuning telur) --> <circle cx="180" cy="185" r="45" fill="#FFD700" stroke="#DAA520" stroke-width="2" class="egg-diagram-part" onclick="showEggPart('kuning')" /> <!-- Embryo --> <ellipse cx="175" cy="170" rx="20" ry="25" fill="#FFDAB9" class="egg-diagram-part" onclick="showEggPart('embrio')" /> <circle cx="172" cy="160" r="10" fill="#FFDAB9" /> <circle cx="170" cy="158" r="2" fill="#333" /> <!-- Allantois --> <path d="M220 160 Q280 140 290 180 Q280 220 220 200" fill="#98FB98" opacity="0.6" stroke="#228B22" stroke-width="2" class="egg-diagram-part" onclick="showEggPart('alantois')" /> <!-- Air cell --> <ellipse cx="200" cy="50" rx="40" ry="20" fill="#E0FFFF" stroke="#87CEEB" stroke-width="1" /> <text x="200" y="55" text-anchor="middle" font-size="10" fill="#666">
          Rongga Udara
         </text> <!-- Labels with lines --> <line x1="350" y1="70" x2="280" y2="100" stroke="#DEB887" stroke-width="1" /> <text x="355" y="75" font-size="11" fill="#8B4513" font-weight="bold">
          Cangkang
         </text> <line x1="350" y1="120" x2="300" y2="140" stroke="#FFD700" stroke-width="1" /> <text x="355" y="125" font-size="11" fill="#B8860B" font-weight="bold">
          Albumen
         </text> <line x1="350" y1="170" x2="225" y2="185" stroke="#DAA520" stroke-width="1" /> <text x="355" y="175" font-size="11" fill="#DAA520" font-weight="bold">
          Kuning Telur
         </text> <line x1="350" y1="220" x2="280" y2="180" stroke="#228B22" stroke-width="1" /> <text x="355" y="225" font-size="11" fill="#228B22" font-weight="bold">
          Alantois
         </text> <line x1="50" y1="175" x2="110" y2="175" stroke="#4169E1" stroke-width="1" /> <text x="45" y="180" font-size="11" fill="#4169E1" font-weight="bold" text-anchor="end">
          Amnion
         </text> <line x1="50" y1="140" x2="155" y2="165" stroke="#CD853F" stroke-width="1" /> <text x="45" y="145" font-size="11" fill="#CD853F" font-weight="bold" text-anchor="end">
          Embrio
         </text>
        </svg>
       </div>
       <div id="egg-part-detail" class="bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl p-6 min-h-[250px]">
        <div class="flex items-start gap-4">
         <div id="egg-icon" class="w-16 h-16 bg-yellow-400 rounded-full flex items-center justify-center text-3xl flex-shrink-0">
          ğŸ¥š
         </div>
         <div>
          <h4 id="egg-part-title" class="text-xl font-bold text-gray-800 mb-2">Pilih Bagian Telur</h4>
          <p id="egg-part-desc" class="text-gray-600">Klik pada bagian-bagian telur di sebelah kiri untuk mempelajari fungsi masing-masing bagian. Setiap bagian memiliki peran penting dalam melindungi dan mendukung perkembangan embrio!</p>
         </div>
        </div>
       </div>
      </div>
     </div><!-- Function Cards -->
     <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      <div class="bg-gradient-to-br from-amber-50 to-yellow-100 rounded-2xl p-6 border-2 border-amber-200 card-hover">
       <div class="w-14 h-14 bg-amber-400 rounded-2xl flex items-center justify-center text-2xl mb-4">
        ğŸ›¡ï¸
       </div>
       <h4 class="font-bold text-gray-800 mb-2">Cangkang Telur</h4>
       <ul class="text-sm text-gray-600 space-y-1">
        <li>âœ“ Melindungi dari benturan</li>
        <li>âœ“ Menjaga kelembaban</li>
        <li>âœ“ Pertukaran gas Oâ‚‚ dan COâ‚‚</li>
       </ul>
      </div>
      <div class="bg-gradient-to-br from-yellow-50 to-orange-100 rounded-2xl p-6 border-2 border-yellow-200 card-hover">
       <div class="w-14 h-14 bg-yellow-500 rounded-2xl flex items-center justify-center text-2xl mb-4">
        ğŸ³
       </div>
       <h4 class="font-bold text-gray-800 mb-2">Kuning Telur</h4>
       <ul class="text-sm text-gray-600 space-y-1">
        <li>âœ“ Sumber makanan utama</li>
        <li>âœ“ Kaya protein &amp; lemak</li>
        <li>âœ“ Energi untuk pertumbuhan</li>
       </ul>
      </div>
      <div class="bg-gradient-to-br from-slate-50 to-gray-100 rounded-2xl p-6 border-2 border-slate-200 card-hover">
       <div class="w-14 h-14 bg-slate-400 rounded-2xl flex items-center justify-center text-2xl mb-4">
        ğŸ’¨
       </div>
       <h4 class="font-bold text-gray-800 mb-2">Albumen</h4>
       <ul class="text-sm text-gray-600 space-y-1">
        <li>âœ“ Pertukaran gas</li>
        <li>âœ“ Cadangan air</li>
        <li>âœ“ Bantalan pelindung</li>
       </ul>
      </div>
      <div class="bg-gradient-to-br from-blue-50 to-cyan-100 rounded-2xl p-6 border-2 border-blue-200 card-hover">
       <div class="w-14 h-14 bg-blue-400 rounded-2xl flex items-center justify-center text-2xl mb-4">
        ğŸ’§
       </div>
       <h4 class="font-bold text-gray-800 mb-2">Cairan Amnion</h4>
       <ul class="text-sm text-gray-600 space-y-1">
        <li>âœ“ Bantalan dari guncangan</li>
        <li>âœ“ Menjaga kelembaban</li>
        <li>âœ“ Mencegah dehidrasi</li>
       </ul>
      </div>
      <div class="bg-gradient-to-br from-green-50 to-emerald-100 rounded-2xl p-6 border-2 border-green-200 card-hover">
       <div class="w-14 h-14 bg-green-400 rounded-2xl flex items-center justify-center text-2xl mb-4">
        ğŸ—‘ï¸
       </div>
       <h4 class="font-bold text-gray-800 mb-2">Alantois</h4>
       <ul class="text-sm text-gray-600 space-y-1">
        <li>âœ“ Tempat pembuangan kotoran</li>
        <li>âœ“ Penyimpanan sisa metabolisme</li>
        <li>âœ“ Pertukaran gas tambahan</li>
       </ul>
      </div>
      <div class="bg-gradient-to-br from-pink-50 to-rose-100 rounded-2xl p-6 border-2 border-pink-200 card-hover">
       <div class="w-14 h-14 bg-pink-400 rounded-2xl flex items-center justify-center text-2xl mb-4">
        ğŸ§’
       </div>
       <h4 class="font-bold text-gray-800 mb-2">Embrio</h4>
       <ul class="text-sm text-gray-600 space-y-1">
        <li>âœ“ Calon individu baru</li>
        <li>âœ“ Berkembang dari zigot</li>
        <li>âœ“ Menggunakan nutrisi kuning telur</li>
       </ul>
      </div>
     </div>
     <div class="flex gap-4 justify-center"><button onclick="showSection('embrio')" class="bg-gray-200 text-gray-700 px-6 py-3 rounded-full font-bold hover:bg-gray-300 transition-all"> â† Kembali </button> <button onclick="showSection('vivipar'); updateProgress(45)" class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-full font-bold shadow-lg hover:shadow-xl transition-all hover:scale-105"> Lanjut ke Sistem Vivipar â†’ </button>
     </div>
    </section><!-- Section 4: Sistem Vivipar -->
    <section id="section-vivipar" class="space-y-8 section-hidden">
     <div class="text-center mb-8"><span class="badge bg-pink-100 text-pink-700 mb-2">BAB 4</span>
      <h2 class="title-font text-3xl md:text-4xl text-gray-800 mb-2">Sistem Pendukung Hidup Vivipar</h2>
      <p class="text-gray-600 max-w-2xl mx-auto">Hubungan erat antara induk dan embrio melalui plasenta</p>
     </div><!-- Placenta Diagram -->
     <div class="bg-white rounded-3xl shadow-xl p-6 md:p-8 card-hover">
      <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center gap-2"><span class="w-8 h-8 bg-pink-100 rounded-full flex items-center justify-center">ğŸ”„</span> Bagaimana Plasenta Bekerja?</h3>
      <div class="grid md:grid-cols-2 gap-8 items-center">
       <div class="bg-gradient-to-br from-pink-50 to-red-50 rounded-2xl p-6">
        <svg viewbox="0 0 400 350" class="w-full"><!-- Mother's body outline --> <path d="M50 50 Q200 30 350 50 L350 300 Q200 320 50 300 Z" fill="#FFE4E1" stroke="#FFB6C1" stroke-width="2" /> <text x="200" y="30" text-anchor="middle" font-size="14" fill="#FF69B4" font-weight="bold">
          TUBUH INDUK
         </text> <!-- Uterus --> <ellipse cx="200" cy="180" rx="120" ry="100" fill="#FFC0CB" stroke="#FF69B4" stroke-width="3" /> <!-- Amniotic sac --> <ellipse cx="180" cy="180" rx="80" ry="70" fill="#E0FFFF" opacity="0.7" stroke="#87CEEB" stroke-width="2" /> <!-- Fetus --> <ellipse cx="170" cy="190" rx="35" ry="45" fill="#FFDAB9" /> <circle cx="160" cy="160" r="25" fill="#FFDAB9" /> <circle cx="155" cy="155" r="4" fill="#333" /> <path d="M145 165 Q150 170 160 168" fill="none" stroke="#333" stroke-width="1" /> <!-- Fetus limbs --> <ellipse cx="195" cy="175" rx="8" ry="15" fill="#FFDAB9" /> <ellipse cx="145" cy="210" rx="6" ry="12" fill="#FFDAB9" /> <ellipse cx="190" cy="220" rx="6" ry="12" fill="#FFDAB9" /> <!-- Placenta --> <ellipse cx="310" cy="180" rx="40" ry="60" fill="#DC143C" opacity="0.7" /> <text x="310" y="260" text-anchor="middle" font-size="12" fill="#DC143C" font-weight="bold">
          PLASENTA
         </text> <!-- Umbilical cord --> <path d="M200 190 Q250 200 270 180" fill="none" stroke="#FF69B4" stroke-width="8" stroke-linecap="round" /> <text x="235" y="220" font-size="10" fill="#FF69B4">
          Tali Pusat
         </text> <!-- Blood flow arrows - Nutrients to baby --> <path d="M310 140 Q280 150 240 160" fill="none" stroke="#32CD32" stroke-width="3" marker-end="url(#greenArrow)" /> <text x="275" y="135" font-size="9" fill="#228B22">
          Nutrisi + Oâ‚‚
         </text> <!-- Blood flow arrows - Waste from baby --> <path d="M240 200 Q280 210 310 220" fill="none" stroke="#FF4500" stroke-width="3" marker-end="url(#redArrow)" /> <text x="270" y="235" font-size="9" fill="#FF4500">
          COâ‚‚ + Limbah
         </text> <!-- Mother's blood vessels --> <line x1="350" y1="120" x2="320" y2="150" stroke="#DC143C" stroke-width="4" /> <line x1="350" y1="240" x2="320" y2="210" stroke="#8B0000" stroke-width="4" /> <text x="360" y="120" font-size="9" fill="#DC143C">
          Darah Induk
         </text> <defs>
          <marker id="greenArrow" markerwidth="10" markerheight="7" refx="9" refy="3.5" orient="auto">
           <polygon points="0 0, 10 3.5, 0 7" fill="#32CD32" />
          </marker>
          <marker id="redArrow" markerwidth="10" markerheight="7" refx="9" refy="3.5" orient="auto">
           <polygon points="0 0, 10 3.5, 0 7" fill="#FF4500" />
          </marker>
         </defs>
        </svg>
       </div>
       <div class="space-y-6">
        <div class="bg-green-50 rounded-2xl p-5 border-2 border-green-200">
         <div class="flex items-center gap-3 mb-3">
          <div class="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center text-white">
           â†’
          </div>
          <h4 class="font-bold text-green-800">Dari Induk ke Embrio</h4>
         </div>
         <ul class="text-green-700 space-y-2">
          <li class="flex items-center gap-2"><span class="w-6 h-6 bg-green-200 rounded-full flex items-center justify-center text-xs">ğŸ</span> <span>Nutrisi (glukosa, asam amino, vitamin)</span></li>
          <li class="flex items-center gap-2"><span class="w-6 h-6 bg-green-200 rounded-full flex items-center justify-center text-xs">ğŸ’¨</span> <span>Oksigen (Oâ‚‚) untuk respirasi</span></li>
          <li class="flex items-center gap-2"><span class="w-6 h-6 bg-green-200 rounded-full flex items-center justify-center text-xs">ğŸ›¡ï¸</span> <span>Antibodi untuk kekebalan</span></li>
         </ul>
        </div>
        <div class="bg-red-50 rounded-2xl p-5 border-2 border-red-200">
         <div class="flex items-center gap-3 mb-3">
          <div class="w-10 h-10 bg-red-500 rounded-full flex items-center justify-center text-white">
           â†
          </div>
          <h4 class="font-bold text-red-800">Dari Embrio ke Induk</h4>
         </div>
         <ul class="text-red-700 space-y-2">
          <li class="flex items-center gap-2"><span class="w-6 h-6 bg-red-200 rounded-full flex items-center justify-center text-xs">ğŸ’¨</span> <span>Karbon dioksida (COâ‚‚)</span></li>
          <li class="flex items-center gap-2"><span class="w-6 h-6 bg-red-200 rounded-full flex items-center justify-center text-xs">ğŸ—‘ï¸</span> <span>Sisa metabolisme (urea)</span></li>
          <li class="flex items-center gap-2"><span class="w-6 h-6 bg-red-200 rounded-full flex items-center justify-center text-xs">âš ï¸</span> <span>Zat-zat yang tidak diperlukan</span></li>
         </ul>
        </div>
        <div class="bg-purple-50 rounded-2xl p-4 border-2 border-purple-200">
         <p class="text-purple-800 text-sm"><strong>ğŸ’¡ Fakta Menarik:</strong> Darah induk dan embrio sebenarnya TIDAK pernah bercampur! Pertukaran zat terjadi melalui dinding tipis di plasenta secara difusi.</p>
        </div>
       </div>
      </div>
     </div><!-- Gestation Period Comparison -->
     <div class="bg-white rounded-3xl shadow-xl p-6 md:p-8 card-hover">
      <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center gap-2"><span class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">â±ï¸</span> Perbandingan Masa Kehamilan</h3>
      <div class="space-y-4">
       <div class="flex items-center gap-4"><span class="text-3xl">ğŸ¹</span>
        <div class="flex-1">
         <div class="flex justify-between mb-1"><span class="font-semibold">Hamster</span> <span class="text-sm text-gray-500">16 hari</span>
         </div>
         <div class="h-4 bg-gray-200 rounded-full overflow-hidden">
          <div class="h-full bg-gradient-to-r from-pink-400 to-pink-500 rounded-full" style="width: 2%"></div>
         </div>
        </div>
       </div>
       <div class="flex items-center gap-4"><span class="text-3xl">ğŸ±</span>
        <div class="flex-1">
         <div class="flex justify-between mb-1"><span class="font-semibold">Kucing</span> <span class="text-sm text-gray-500">63 hari (2 bulan)</span>
         </div>
         <div class="h-4 bg-gray-200 rounded-full overflow-hidden">
          <div class="h-full bg-gradient-to-r from-orange-400 to-orange-500 rounded-full" style="width: 10%"></div>
         </div>
        </div>
       </div>
       <div class="flex items-center gap-4"><span class="text-3xl">ğŸ•</span>
        <div class="flex-1">
         <div class="flex justify-between mb-1"><span class="font-semibold">Anjing</span> <span class="text-sm text-gray-500">63 hari (2 bulan)</span>
         </div>
         <div class="h-4 bg-gray-200 rounded-full overflow-hidden">
          <div class="h-full bg-gradient-to-r from-amber-400 to-amber-500 rounded-full" style="width: 10%"></div>
         </div>
        </div>
       </div>
       <div class="flex items-center gap-4"><span class="text-3xl">ğŸ‘¶</span>
        <div class="flex-1">
         <div class="flex justify-between mb-1"><span class="font-semibold">Manusia</span> <span class="text-sm text-gray-500">280 hari (9 bulan)</span>
         </div>
         <div class="h-4 bg-gray-200 rounded-full overflow-hidden">
          <div class="h-full bg-gradient-to-r from-blue-400 to-blue-500 rounded-full" style="width: 42%"></div>
         </div>
        </div>
       </div>
       <div class="flex items-center gap-4"><span class="text-3xl">ğŸ‹</span>
        <div class="flex-1">
         <div class="flex justify-between mb-1"><span class="font-semibold">Paus Biru</span> <span class="text-sm text-gray-500">330-365 hari (11-12 bulan)</span>
         </div>
         <div class="h-4 bg-gray-200 rounded-full overflow-hidden">
          <div class="h-full bg-gradient-to-r from-cyan-400 to-cyan-500 rounded-full" style="width: 55%"></div>
         </div>
        </div>
       </div>
       <div class="flex items-center gap-4"><span class="text-3xl">ğŸ˜</span>
        <div class="flex-1">
         <div class="flex justify-between mb-1"><span class="font-semibold">Gajah</span> <span class="text-sm text-gray-500">660 hari (22 bulan)!</span>
         </div>
         <div class="h-4 bg-gray-200 rounded-full overflow-hidden">
          <div class="h-full bg-gradient-to-r from-gray-400 to-gray-500 rounded-full" style="width: 100%"></div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="flex gap-4 justify-center"><button onclick="showSection('telur')" class="bg-gray-200 text-gray-700 px-6 py-3 rounded-full font-bold hover:bg-gray-300 transition-all"> â† Kembali </button> <button onclick="showSection('metamorfosis'); updateProgress(60)" class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-full font-bold shadow-lg hover:shadow-xl transition-all hover:scale-105"> Lanjut ke Metamorfosis â†’ </button>
     </div>
    </section><!-- Section 5: Metamorfosis -->
    <section id="section-metamorfosis" class="space-y-8 section-hidden">
     <div class="text-center mb-8"><span class="badge bg-green-100 text-green-700 mb-2">BAB 5</span>
      <h2 class="title-font text-3xl md:text-4xl text-gray-800 mb-2">Metamorfosis Serangga &amp; Amfibi</h2>
      <p class="text-gray-600 max-w-2xl mx-auto">Perubahan bentuk yang menakjubkan dalam dunia hewan</p>
     </div><!-- Metamorphosis Types Tabs -->
     <div class="bg-white rounded-3xl shadow-xl overflow-hidden">
      <div class="flex border-b"><button onclick="showMetaTab('sempurna')" id="meta-tab-sempurna" class="flex-1 px-4 py-4 font-bold text-center tab-active transition-all"> ğŸ¦‹ Sempurna (4 Fase) </button> <button onclick="showMetaTab('tidak')" id="meta-tab-tidak" class="flex-1 px-4 py-4 font-bold text-center text-gray-500 hover:bg-gray-50 transition-all"> ğŸ¦— Tidak Sempurna (3 Fase) </button> <button onclick="showMetaTab('katak')" id="meta-tab-katak" class="flex-1 px-4 py-4 font-bold text-center text-gray-500 hover:bg-gray-50 transition-all"> ğŸ¸ Amfibi (Katak) </button>
      </div><!-- Sempurna Content -->
      <div id="meta-content-sempurna" class="p-6 md:p-8">
       <div class="text-center mb-6">
        <h3 class="text-2xl font-bold text-gray-800 mb-2">Metamorfosis Sempurna (Holometabola)</h3>
        <p class="text-gray-600">Perubahan bentuk melalui 4 fase berbeda</p>
       </div>
       <div class="flex flex-col md:flex-row items-center justify-center gap-4 md:gap-2 mb-8"><!-- Telur -->
        <div class="flex flex-col items-center">
         <div class="w-20 h-20 bg-gradient-to-br from-green-100 to-green-200 rounded-full flex items-center justify-center shadow-lg">
          <svg viewbox="0 0 50 50" class="w-12 h-12"><ellipse cx="25" cy="28" rx="12" ry="16" fill="#90EE90" stroke="#228B22" stroke-width="2" />
          </svg>
         </div><span class="mt-2 font-bold text-gray-700">1. Telur</span>
        </div>
        <div class="hidden md:block text-3xl text-purple-400">
         â†’
        </div>
        <div class="md:hidden text-3xl text-purple-400">
         â†“
        </div><!-- Larva -->
        <div class="flex flex-col items-center">
         <div class="w-20 h-20 bg-gradient-to-br from-yellow-100 to-yellow-200 rounded-full flex items-center justify-center shadow-lg">
          <svg viewbox="0 0 50 50" class="w-12 h-12"><ellipse cx="10" cy="30" rx="6" ry="5" fill="#7CFC00" /> <ellipse cx="20" cy="28" rx="6" ry="5" fill="#90EE90" /> <ellipse cx="30" cy="28" rx="6" ry="5" fill="#7CFC00" /> <ellipse cx="40" cy="30" rx="5" ry="4" fill="#90EE90" /> <circle cx="7" cy="28" r="3" fill="#8B4513" />
          </svg>
         </div><span class="mt-2 font-bold text-gray-700">2. Larva</span>
        </div>
        <div class="hidden md:block text-3xl text-purple-400">
         â†’
        </div>
        <div class="md:hidden text-3xl text-purple-400">
         â†“
        </div><!-- Pupa -->
        <div class="flex flex-col items-center">
         <div class="w-20 h-20 bg-gradient-to-br from-amber-100 to-amber-200 rounded-full flex items-center justify-center shadow-lg">
          <svg viewbox="0 0 50 50" class="w-12 h-12"><path d="M25 8 Q38 15 38 30 Q38 45 25 48 Q12 45 12 30 Q12 15 25 8" fill="#8B4513" stroke="#5D3A1A" stroke-width="2" /> <path d="M20 15 Q25 12 30 15" fill="none" stroke="#DAA520" stroke-width="2" />
          </svg>
         </div><span class="mt-2 font-bold text-gray-700">3. Pupa</span>
        </div>
        <div class="hidden md:block text-3xl text-purple-400">
         â†’
        </div>
        <div class="md:hidden text-3xl text-purple-400">
         â†“
        </div><!-- Imago -->
        <div class="flex flex-col items-center">
         <div class="w-20 h-20 bg-gradient-to-br from-purple-100 to-pink-200 rounded-full flex items-center justify-center shadow-lg float-animation">
          <svg viewbox="0 0 50 50" class="w-12 h-12"><ellipse cx="25" cy="28" rx="3" ry="8" fill="#333" /> <circle cx="25" cy="18" r="4" fill="#333" /> <path d="M25 15 Q38 8 42 22 Q38 36 25 32" fill="#FF69B4" /> <path d="M25 15 Q12 8 8 22 Q12 36 25 32" fill="#FF69B4" />
          </svg>
         </div><span class="mt-2 font-bold text-gray-700">4. Imago</span>
        </div>
       </div>
       <div class="grid md:grid-cols-2 gap-6">
        <div class="bg-purple-50 rounded-2xl p-5 border-2 border-purple-200">
         <h4 class="font-bold text-purple-800 mb-3">ğŸ¦‹ Contoh Hewan:</h4>
         <div class="flex flex-wrap gap-2"><span class="badge bg-white text-purple-700">Kupu-kupu</span> <span class="badge bg-white text-purple-700">Lalat</span> <span class="badge bg-white text-purple-700">Nyamuk</span> <span class="badge bg-white text-purple-700">Kumbang</span> <span class="badge bg-white text-purple-700">Lebah</span> <span class="badge bg-white text-purple-700">Semut</span>
         </div>
        </div>
        <div class="bg-amber-50 rounded-2xl p-5 border-2 border-amber-200">
         <h4 class="font-bold text-amber-800 mb-3">ğŸ’¡ Fase Pupa:</h4>
         <p class="text-amber-700 text-sm">Pada fase pupa, serangga tidak makan dan tidak bergerak. Di dalam kepompong, terjadi perombakan total struktur tubuh untuk membentuk tubuh dewasa.</p>
        </div>
       </div>
      </div><!-- Tidak Sempurna Content -->
      <div id="meta-content-tidak" class="p-6 md:p-8 hidden">
       <div class="text-center mb-6">
        <h3 class="text-2xl font-bold text-gray-800 mb-2">Metamorfosis Tidak Sempurna (Hemimetabola)</h3>
        <p class="text-gray-600">Perubahan bentuk melalui 3 fase tanpa tahap pupa</p>
       </div>
       <div class="flex flex-col md:flex-row items-center justify-center gap-4 md:gap-8 mb-8"><!-- Telur -->
        <div class="flex flex-col items-center">
         <div class="w-24 h-24 bg-gradient-to-br from-green-100 to-green-200 rounded-full flex items-center justify-center shadow-lg">
          <svg viewbox="0 0 60 60" class="w-16 h-16"><ellipse cx="30" cy="35" rx="15" ry="20" fill="#90EE90" stroke="#228B22" stroke-width="2" />
          </svg>
         </div><span class="mt-2 font-bold text-gray-700">1. Telur</span>
        </div>
        <div class="hidden md:block text-4xl text-green-400">
         â†’
        </div>
        <div class="md:hidden text-4xl text-green-400">
         â†“
        </div><!-- Nimfa -->
        <div class="flex flex-col items-center">
         <div class="w-24 h-24 bg-gradient-to-br from-lime-100 to-lime-200 rounded-full flex items-center justify-center shadow-lg">
          <svg viewbox="0 0 60 60" class="w-16 h-16"><ellipse cx="30" cy="32" rx="12" ry="18" fill="#9ACD32" /> <circle cx="30" cy="15" r="8" fill="#9ACD32" /> <circle cx="27" cy="13" r="2" fill="#333" /> <circle cx="33" cy="13" r="2" fill="#333" /> <line x1="20" y1="35" x2="12" y2="45" stroke="#9ACD32" stroke-width="3" /> <line x1="40" y1="35" x2="48" y2="45" stroke="#9ACD32" stroke-width="3" />
          </svg>
         </div><span class="mt-2 font-bold text-gray-700">2. Nimfa</span> <span class="text-xs text-gray-500">(Mirip dewasa, tanpa sayap)</span>
        </div>
        <div class="hidden md:block text-4xl text-green-400">
         â†’
        </div>
        <div class="md:hidden text-4xl text-green-400">
         â†“
        </div><!-- Dewasa -->
        <div class="flex flex-col items-center">
         <div class="w-24 h-24 bg-gradient-to-br from-green-100 to-emerald-200 rounded-full flex items-center justify-center shadow-lg">
          <svg viewbox="0 0 60 60" class="w-16 h-16"><ellipse cx="30" cy="35" rx="10" ry="15" fill="#228B22" /> <circle cx="30" cy="18" r="7" fill="#228B22" /> <circle cx="27" cy="16" r="2" fill="#333" /> <circle cx="33" cy="16" r="2" fill="#333" /> <!-- Wings --> <ellipse cx="18" cy="30" rx="12" ry="6" fill="#90EE90" opacity="0.7" /> <ellipse cx="42" cy="30" rx="12" ry="6" fill="#90EE90" opacity="0.7" /> <!-- Legs --> <line x1="22" y1="40" x2="10" y2="50" stroke="#228B22" stroke-width="2" /> <line x1="38" y1="40" x2="50" y2="50" stroke="#228B22" stroke-width="2" /> <line x1="25" y1="45" x2="15" y2="55" stroke="#228B22" stroke-width="2" /> <line x1="35" y1="45" x2="45" y2="55" stroke="#228B22" stroke-width="2" />
          </svg>
         </div><span class="mt-2 font-bold text-gray-700">3. Dewasa</span> <span class="text-xs text-gray-500">(Bersayap lengkap)</span>
        </div>
       </div>
       <div class="grid md:grid-cols-2 gap-6">
        <div class="bg-green-50 rounded-2xl p-5 border-2 border-green-200">
         <h4 class="font-bold text-green-800 mb-3">ğŸ¦— Contoh Hewan:</h4>
         <div class="flex flex-wrap gap-2"><span class="badge bg-white text-green-700">Belalang</span> <span class="badge bg-white text-green-700">Jangkrik</span> <span class="badge bg-white text-green-700">Kecoak</span> <span class="badge bg-white text-green-700">Capung</span> <span class="badge bg-white text-green-700">Walang sangit</span>
         </div>
        </div>
        <div class="bg-lime-50 rounded-2xl p-5 border-2 border-lime-200">
         <h4 class="font-bold text-lime-800 mb-3">ğŸ’¡ Perbedaan Utama:</h4>
         <p class="text-lime-700 text-sm">Nimfa sudah mirip dengan bentuk dewasa, hanya lebih kecil dan belum memiliki sayap. Nimfa mengalami beberapa kali pergantian kulit (molting) hingga menjadi dewasa.</p>
        </div>
       </div>
      </div><!-- Katak Content -->
      <div id="meta-content-katak" class="p-6 md:p-8 hidden">
       <div class="text-center mb-6">
        <h3 class="text-2xl font-bold text-gray-800 mb-2">Metamorfosis Katak (Amfibi)</h3>
        <p class="text-gray-600">Transformasi menakjubkan dari air ke darat</p>
       </div>
       <div class="bg-gradient-to-r from-blue-50 via-green-50 to-emerald-50 rounded-2xl p-6 mb-8">
        <svg viewbox="0 0 800 300" class="w-full"><!-- Water section --> <rect x="0" y="150" width="400" height="150" fill="#87CEEB" opacity="0.5" /> <text x="200" y="280" text-anchor="middle" font-size="14" fill="#4169E1" font-weight="bold">
          FASE AIR
         </text> <!-- Land section --> <rect x="400" y="200" width="400" height="100" fill="#90EE90" opacity="0.5" /> <text x="600" y="280" text-anchor="middle" font-size="14" fill="#228B22" font-weight="bold">
          FASE DARAT
         </text> <!-- Stage 1: Eggs --> <circle cx="80" cy="180" r="8" fill="#333" opacity="0.8" /> <circle cx="95" cy="175" r="8" fill="#333" opacity="0.8" /> <circle cx="90" cy="190" r="8" fill="#333" opacity="0.8" /> <circle cx="105" cy="185" r="8" fill="#333" opacity="0.8" /> <ellipse cx="90" cy="182" rx="25" ry="20" fill="none" stroke="#87CEEB" stroke-width="2" /> <text x="90" y="230" text-anchor="middle" font-size="11" fill="#333">
          1. Telur
         </text> <!-- Stage 2: Early Tadpole --> <ellipse cx="200" cy="180" rx="20" ry="10" fill="#333" /> <path d="M220 180 Q240 175 250 180 Q240 185 220 180" fill="#333" /> <text x="220" y="230" text-anchor="middle" font-size="11" fill="#333">
          2. Berudu Muda
         </text> <text x="220" y="245" text-anchor="middle" font-size="9" fill="#666">
          (Insang luar)
         </text> <!-- Stage 3: Tadpole with gills --> <ellipse cx="340" cy="175" rx="25" ry="12" fill="#556B2F" /> <path d="M365 175 Q390 170 410 175 Q390 180 365 175" fill="#556B2F" /> <circle cx="325" cy="172" r="3" fill="#333" /> <text x="360" y="230" text-anchor="middle" font-size="11" fill="#333">
          3. Berudu
         </text> <text x="360" y="245" text-anchor="middle" font-size="9" fill="#666">
          (Insang dalam)
         </text> <!-- Stage 4: Tadpole with back legs --> <ellipse cx="480" cy="170" rx="22" ry="12" fill="#6B8E23" /> <path d="M502 170 Q520 168 530 172" fill="#6B8E23" /> <line x1="490" y1="180" x2="485" y2="195" stroke="#6B8E23" stroke-width="3" /> <line x1="500" y1="180" x2="505" y2="195" stroke="#6B8E23" stroke-width="3" /> <circle cx="465" cy="167" r="3" fill="#333" /> <text x="495" y="230" text-anchor="middle" font-size="11" fill="#333">
          4. Kaki Belakang
         </text> <!-- Stage 5: Four legs, short tail --> <ellipse cx="600" cy="165" rx="20" ry="12" fill="#228B22" /> <path d="M620 165 Q628 164 632 166" fill="#228B22" /> <line x1="585" y1="160" x2="575" y2="150" stroke="#228B22" stroke-width="3" /> <line x1="590" y1="175" x2="580" y2="190" stroke="#228B22" stroke-width="3" /> <line x1="610" y1="175" x2="620" y2="190" stroke="#228B22" stroke-width="3" /> <circle cx="582" cy="162" r="3" fill="#333" /> <text x="600" y="230" text-anchor="middle" font-size="11" fill="#333">
          5. Empat Kaki
         </text> <text x="600" y="245" text-anchor="middle" font-size="9" fill="#666">
          (Ekor memendek)
         </text> <!-- Stage 6: Adult frog --> <ellipse cx="720" cy="160" rx="25" ry="18" fill="#228B22" /> <circle cx="700" cy="150" r="12" fill="#228B22" /> <circle cx="695" cy="145" r="4" fill="#FFD700" /> <circle cx="695" cy="145" r="2" fill="#333" /> <circle cx="708" cy="145" r="4" fill="#FFD700" /> <circle cx="708" cy="145" r="2" fill="#333" /> <line x1="695" y1="168" x2="680" y2="185" stroke="#228B22" stroke-width="4" /> <line x1="700" y1="175" x2="690" y2="195" stroke="#228B22" stroke-width="4" /> <line x1="735" y1="175" x2="750" y2="195" stroke="#228B22" stroke-width="4" /> <text x="720" y="230" text-anchor="middle" font-size="11" fill="#333">
          6. Katak Dewasa
         </text> <!-- Arrows --> <path d="M120 180 L170 180" fill="none" stroke="#4169E1" stroke-width="2" marker-end="url(#blueArr)" /> <path d="M260 180 L310 175" fill="none" stroke="#4169E1" stroke-width="2" marker-end="url(#blueArr)" /> <path d="M420 175 L450 170" fill="none" stroke="#4169E1" stroke-width="2" marker-end="url(#blueArr)" /> <path d="M540 170 L570 167" fill="none" stroke="#228B22" stroke-width="2" marker-end="url(#greenArr)" /> <path d="M650 165 L680 162" fill="none" stroke="#228B22" stroke-width="2" marker-end="url(#greenArr)" /> <defs>
          <marker id="blueArr" markerwidth="10" markerheight="7" refx="9" refy="3.5" orient="auto">
           <polygon points="0 0, 10 3.5, 0 7" fill="#4169E1" />
          </marker>
          <marker id="greenArr" markerwidth="10" markerheight="7" refx="9" refy="3.5" orient="auto">
           <polygon points="0 0, 10 3.5, 0 7" fill="#228B22" />
          </marker>
         </defs>
        </svg>
       </div>
       <div class="grid md:grid-cols-2 gap-6">
        <div class="bg-blue-50 rounded-2xl p-5 border-2 border-blue-200">
         <h4 class="font-bold text-blue-800 mb-3">ğŸŒŠ Fase Air (Berudu):</h4>
         <ul class="text-blue-700 text-sm space-y-2">
          <li>âœ“ Bernapas dengan insang</li>
          <li>âœ“ Memiliki ekor panjang untuk berenang</li>
          <li>âœ“ Makan tumbuhan air (herbivora)</li>
          <li>âœ“ Tidak memiliki kaki</li>
         </ul>
        </div>
        <div class="bg-green-50 rounded-2xl p-5 border-2 border-green-200">
         <h4 class="font-bold text-green-800 mb-3">ğŸŒ¿ Fase Darat (Dewasa):</h4>
         <ul class="text-green-700 text-sm space-y-2">
          <li>âœ“ Bernapas dengan paru-paru + kulit</li>
          <li>âœ“ Ekor menghilang total</li>
          <li>âœ“ Makan serangga (karnivora)</li>
          <li>âœ“ Memiliki empat kaki kuat</li>
         </ul>
        </div>
       </div>
      </div>
     </div>
     <div class="flex gap-4 justify-center"><button onclick="showSection('vivipar')" class="bg-gray-200 text-gray-700 px-6 py-3 rounded-full font-bold hover:bg-gray-300 transition-all"> â† Kembali </button> <button onclick="showSection('lobster'); updateProgress(75)" class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-full font-bold shadow-lg hover:shadow-xl transition-all hover:scale-105"> Lanjut ke Siklus Lobster â†’ </button>
     </div>
    </section><!-- Section 6: Siklus Lobster -->
    <section id="section-lobster" class="space-y-8 section-hidden">
     <div class="text-center mb-8"><span class="badge bg-red-100 text-red-700 mb-2">BAB 6</span>
      <h2 class="title-font text-3xl md:text-4xl text-gray-800 mb-2">Siklus Hidup Lobster</h2>
      <p class="text-gray-600 max-w-2xl mx-auto">Studi kasus metamorfosis pada krustasea</p>
     </div><!-- Lobster Lifecycle -->
     <div class="bg-white rounded-3xl shadow-xl p-6 md:p-8 card-hover">
      <div class="bg-gradient-to-r from-red-50 via-orange-50 to-red-50 rounded-2xl p-6 mb-8">
       <svg viewbox="0 0 800 400" class="w-full"><!-- Background water --> <rect x="0" y="0" width="800" height="400" fill="#E0F7FA" rx="20" /> <!-- Center circle (cycle indicator) --> <circle cx="400" cy="200" r="120" fill="none" stroke="#FF6B6B" stroke-width="3" stroke-dasharray="10" class="lifecycle-connector" /> <!-- Stage 1: Eggs --> <g transform="translate(400, 60)">
         <circle cx="0" cy="0" r="50" fill="#FFE4E1" stroke="#FF6B6B" stroke-width="3" />
         <circle cx="-15" cy="-10" r="8" fill="#FF6347" />
         <circle cx="5" cy="-15" r="8" fill="#FF6347" />
         <circle cx="15" cy="-5" r="8" fill="#FF6347" />
         <circle cx="-5" cy="5" r="8" fill="#FF6347" />
         <circle cx="10" cy="10" r="8" fill="#FF6347" />
         <text x="0" y="70" text-anchor="middle" font-size="14" fill="#333" font-weight="bold">
          TELUR
         </text>
         <text x="0" y="85" text-anchor="middle" font-size="11" fill="#666">
          ~1 bulan
         </text>
        </g> <!-- Stage 2: Larva Level 1 --> <g transform="translate(550, 130)">
         <ellipse cx="0" cy="0" rx="40" ry="25" fill="#FFA07A" stroke="#FF6347" stroke-width="2" />
         <circle cx="-20" cy="-5" r="8" fill="#FF6347" />
         <line x1="25" y1="0" x2="45" y2="-10" stroke="#FFA07A" stroke-width="3" />
         <line x1="25" y1="5" x2="45" y2="15" stroke="#FFA07A" stroke-width="3" />
         <text x="0" y="45" text-anchor="middle" font-size="12" fill="#333" font-weight="bold">
          Larva Tk. 1
         </text>
         <text x="0" y="58" text-anchor="middle" font-size="10" fill="#666">
          1.5 mm
         </text>
        </g> <!-- Stage 3: Larva Level 2-3 --> <g transform="translate(570, 270)">
         <ellipse cx="0" cy="0" rx="45" ry="28" fill="#E9967A" stroke="#CD5C5C" stroke-width="2" />
         <circle cx="-25" cy="-5" r="10" fill="#CD5C5C" />
         <line x1="28" y1="-5" x2="55" y2="-15" stroke="#E9967A" stroke-width="4" />
         <line x1="28" y1="5" x2="55" y2="20" stroke="#E9967A" stroke-width="4" />
         <line x1="-10" y1="20" x2="-15" y2="40" stroke="#E9967A" stroke-width="3" />
         <line x1="10" y1="20" x2="15" y2="40" stroke="#E9967A" stroke-width="3" />
         <text x="0" y="60" text-anchor="middle" font-size="12" fill="#333" font-weight="bold">
          Larva Tk. 2-3
         </text>
         <text x="0" y="73" text-anchor="middle" font-size="10" fill="#666">
          3-5 mm
         </text>
        </g> <!-- Stage 4: Larva Level 4 --> <g transform="translate(400, 340)">
         <ellipse cx="0" cy="0" rx="50" ry="30" fill="#DC143C" stroke="#8B0000" stroke-width="2" />
         <circle cx="-30" cy="-5" r="12" fill="#8B0000" />
         <line x1="32" y1="-8" x2="70" y2="-20" stroke="#DC143C" stroke-width="5" />
         <line x1="32" y1="8" x2="70" y2="25" stroke="#DC143C" stroke-width="5" />
         <line x1="-15" y1="22" x2="-25" y2="45" stroke="#DC143C" stroke-width="4" />
         <line x1="15" y1="22" x2="25" y2="45" stroke="#DC143C" stroke-width="4" />
         <text x="0" y="-50" text-anchor="middle" font-size="12" fill="#333" font-weight="bold">
          Larva Tk. 4
         </text>
         <text x="0" y="-37" text-anchor="middle" font-size="10" fill="#666">
          ~10 mm
         </text>
        </g> <!-- Stage 5: Juvenile --> <g transform="translate(230, 270)">
         <ellipse cx="0" cy="0" rx="55" ry="32" fill="#B22222" stroke="#800000" stroke-width="3" />
         <circle cx="-35" cy="-5" r="14" fill="#800000" />
         <circle cx="-40" cy="-8" r="3" fill="#FFD700" />
         <line x1="35" y1="-10" x2="80" y2="-25" stroke="#B22222" stroke-width="6" />
         <line x1="35" y1="10" x2="80" y2="30" stroke="#B22222" stroke-width="6" />
         <line x1="-20" y1="25" x2="-30" y2="50" stroke="#B22222" stroke-width="4" />
         <line x1="0" y1="28" x2="0" y2="55" stroke="#B22222" stroke-width="4" />
         <line x1="20" y1="25" x2="30" y2="50" stroke="#B22222" stroke-width="4" />
         <text x="0" y="75" text-anchor="middle" font-size="12" fill="#333" font-weight="bold">
          REMAJA
         </text>
         <text x="0" y="88" text-anchor="middle" font-size="10" fill="#666">
          1-2 tahun
         </text>
        </g> <!-- Stage 6: Adult --> <g transform="translate(230, 130)">
         <ellipse cx="0" cy="0" rx="65" ry="38" fill="#8B0000" stroke="#4A0000" stroke-width="3" />
         <circle cx="-42" cy="-5" r="18" fill="#4A0000" />
         <circle cx="-48" cy="-10" r="4" fill="#FFD700" />
         <line x1="42" y1="-12" x2="100" y2="-30" stroke="#8B0000" stroke-width="8" />
         <line x1="42" y1="12" x2="100" y2="35" stroke="#8B0000" stroke-width="8" />
         <line x1="-25" y1="30" x2="-40" y2="60" stroke="#8B0000" stroke-width="5" />
         <line x1="0" y1="35" x2="0" y2="65" stroke="#8B0000" stroke-width="5" />
         <line x1="25" y1="30" x2="40" y2="60" stroke="#8B0000" stroke-width="5" />
         <text x="0" y="-55" text-anchor="middle" font-size="14" fill="#333" font-weight="bold">
          DEWASA
         </text>
         <text x="0" y="-40" text-anchor="middle" font-size="11" fill="#666">
          25-50 cm | 2-3 tahun
         </text>
        </g> <!-- Arrows --> <path d="M400 115 Q450 115 480 130" fill="none" stroke="#FF6B6B" stroke-width="3" marker-end="url(#lobsterArrow)" /> <path d="M570 160 Q590 200 570 240" fill="none" stroke="#FF6B6B" stroke-width="3" marker-end="url(#lobsterArrow)" /> <path d="M530 290 Q470 320 420 320" fill="none" stroke="#FF6B6B" stroke-width="3" marker-end="url(#lobsterArrow)" /> <path d="M350 310 Q300 300 270 280" fill="none" stroke="#FF6B6B" stroke-width="3" marker-end="url(#lobsterArrow)" /> <path d="M230 235 Q220 200 230 175" fill="none" stroke="#FF6B6B" stroke-width="3" marker-end="url(#lobsterArrow)" /> <path d="M280 100 Q340 70 370 65" fill="none" stroke="#FF6B6B" stroke-width="3" marker-end="url(#lobsterArrow)" /> <defs>
         <marker id="lobsterArrow" markerwidth="10" markerheight="7" refx="9" refy="3.5" orient="auto">
          <polygon points="0 0, 10 3.5, 0 7" fill="#FF6B6B" />
         </marker>
        </defs>
       </svg>
      </div><!-- Timeline -->
      <div class="grid md:grid-cols-4 gap-4">
       <div class="bg-red-50 rounded-2xl p-4 text-center border-2 border-red-200">
        <div class="text-3xl mb-2">
         ğŸ¥š
        </div>
        <h4 class="font-bold text-red-800">Fase Telur</h4>
        <p class="text-sm text-red-600">~1 bulan</p>
        <p class="text-xs text-gray-600 mt-2">Dibawa induk betina</p>
       </div>
       <div class="bg-orange-50 rounded-2xl p-4 text-center border-2 border-orange-200">
        <div class="text-3xl mb-2">
         ğŸ¦
        </div>
        <h4 class="font-bold text-orange-800">Fase Larva</h4>
        <p class="text-sm text-orange-600">4 tingkat (1.5-10 mm)</p>
        <p class="text-xs text-gray-600 mt-2">Berenang bebas</p>
       </div>
       <div class="bg-amber-50 rounded-2xl p-4 text-center border-2 border-amber-200">
        <div class="text-3xl mb-2">
         ğŸ¦
        </div>
        <h4 class="font-bold text-amber-800">Fase Remaja</h4>
        <p class="text-sm text-amber-600">1-2 tahun</p>
        <p class="text-xs text-gray-600 mt-2">Hidup di dasar laut</p>
       </div>
       <div class="bg-red-50 rounded-2xl p-4 text-center border-2 border-red-200">
        <div class="text-3xl mb-2">
         ğŸ¦
        </div>
        <h4 class="font-bold text-red-800">Fase Dewasa</h4>
        <p class="text-sm text-red-600">25-50 cm | 2-3 tahun</p>
        <p class="text-xs text-gray-600 mt-2">Siap bereproduksi</p>
       </div>
      </div>
      <div class="mt-6 bg-blue-50 rounded-2xl p-5 border-2 border-blue-200">
       <h4 class="font-bold text-blue-800 mb-3 flex items-center gap-2"><span>ğŸ’¡</span> Fakta Menarik tentang Lobster</h4>
       <div class="grid md:grid-cols-2 gap-4 text-sm text-blue-700">
        <div>
         â€¢ Lobster dapat hidup hingga 100 tahun!
        </div>
        <div>
         â€¢ Mereka terus tumbuh sepanjang hidupnya
        </div>
        <div>
         â€¢ Lobster berganti cangkang (molting) untuk tumbuh
        </div>
        <div>
         â€¢ Induk betina membawa ribuan telur di bawah ekornya
        </div>
       </div>
      </div>
     </div>
     <div class="flex gap-4 justify-center"><button onclick="showSection('metamorfosis')" class="bg-gray-200 text-gray-700 px-6 py-3 rounded-full font-bold hover:bg-gray-300 transition-all"> â† Kembali </button> <button onclick="showSection('quiz'); updateProgress(90)" class="bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-8 py-3 rounded-full font-bold shadow-lg hover:shadow-xl transition-all hover:scale-105"> ğŸ¯ Mulai Kuis HOTS â†’ </button>
     </div>
    </section><!-- Section 7: Quiz HOTS -->
    <section id="section-quiz" class="space-y-8 section-hidden">
     <div class="text-center mb-8"><span class="badge bg-yellow-100 text-yellow-700 mb-2">EVALUASI</span>
      <h2 class="title-font text-3xl md:text-4xl text-gray-800 mb-2">Kuis HOTS</h2>
      <p class="text-gray-600 max-w-2xl mx-auto">10 Soal Higher Order Thinking Skills - Uji Pemahamanmu!</p>
     </div>
     <div class="bg-white rounded-3xl shadow-xl p-6 md:p-8"><!-- Quiz Progress -->
      <div class="flex items-center justify-between mb-6">
       <div class="flex items-center gap-3"><span class="text-2xl">ğŸ“</span> <span class="font-bold text-gray-700">Soal <span id="current-question">1</span> dari 10</span>
       </div>
       <div class="flex items-center gap-2"><span class="text-sm text-gray-500">Skor:</span> <span id="quiz-score" class="font-bold text-purple-600">0</span> <span class="text-sm text-gray-500">/ 10</span>
       </div>
      </div>
      <div class="w-full h-3 bg-gray-200 rounded-full mb-8 overflow-hidden">
       <div id="quiz-progress" class="h-full bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full transition-all duration-500" style="width: 10%"></div>
      </div><!-- Question Container -->
      <div id="quiz-container">
       <div id="question-card" class="bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 mb-6">
        <div class="flex items-start gap-4">
         <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white font-bold flex-shrink-0"><span id="question-number">1</span>
         </div>
         <div><span id="question-level" class="badge bg-red-100 text-red-700 mb-2">C4 - Menganalisis</span>
          <p id="question-text" class="text-lg text-gray-800 font-medium"></p>
         </div>
        </div>
       </div>
       <div id="options-container" class="space-y-3 mb-6"></div>
       <div id="feedback-container" class="hidden bg-gray-50 rounded-2xl p-5 mb-6">
        <div id="feedback-icon" class="text-4xl mb-2"></div>
        <h4 id="feedback-title" class="font-bold text-lg mb-2"></h4>
        <p id="feedback-text" class="text-gray-600"></p>
       </div>
       <div class="flex justify-between"><button id="prev-btn" onclick="prevQuestion()" class="bg-gray-200 text-gray-700 px-6 py-3 rounded-full font-bold hover:bg-gray-300 transition-all disabled:opacity-50" disabled> â† Sebelumnya </button> <button id="next-btn" onclick="nextQuestion()" class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-full font-bold shadow-lg hover:shadow-xl transition-all disabled:opacity-50" disabled> Selanjutnya â†’ </button>
       </div>
      </div><!-- Results Container -->
      <div id="results-container" class="hidden text-center">
       <div class="mb-8">
        <div id="results-emoji" class="text-8xl mb-4">
         ğŸ‰
        </div>
        <h3 class="title-font text-3xl text-gray-800 mb-2">Kuis Selesai!</h3>
        <p class="text-gray-600">Lihat hasil pencapaianmu</p>
       </div>
       <div class="bg-gradient-to-br from-purple-100 to-pink-100 rounded-3xl p-8 mb-8">
        <div class="text-6xl font-bold text-purple-600 mb-2"><span id="final-score">0</span>/10
        </div>
        <p id="score-percentage" class="text-xl text-gray-600 mb-4"></p>
        <div id="score-message" class="text-lg font-medium"></div>
       </div>
       <div class="grid md:grid-cols-3 gap-4 mb-8">
        <div class="bg-green-50 rounded-2xl p-4 border-2 border-green-200">
         <div class="text-3xl mb-2">
          âœ…
         </div>
         <div class="font-bold text-green-700">
          Benar
         </div>
         <div id="correct-count" class="text-2xl font-bold text-green-600">
          0
         </div>
        </div>
        <div class="bg-red-50 rounded-2xl p-4 border-2 border-red-200">
         <div class="text-3xl mb-2">
          âŒ
         </div>
         <div class="font-bold text-red-700">
          Salah
         </div>
         <div id="wrong-count" class="text-2xl font-bold text-red-600">
          0
         </div>
        </div>
        <div class="bg-blue-50 rounded-2xl p-4 border-2 border-blue-200">
         <div class="text-3xl mb-2">
          â±ï¸
         </div>
         <div class="font-bold text-blue-700">
          Level HOTS
         </div>
         <div class="text-sm text-blue-600">
          C4-C6
         </div>
        </div>
       </div><button onclick="resetQuiz()" class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-full font-bold text-lg shadow-lg hover:shadow-xl transition-all hover:scale-105"> ğŸ”„ Ulangi Kuis </button>
      </div>
     </div><button onclick="showSection('intro'); updateProgress(100)" class="mx-auto block bg-gray-200 text-gray-700 px-6 py-3 rounded-full font-bold hover:bg-gray-300 transition-all"> â† Kembali ke Awal </button>
    </section>
   </main><!-- Footer -->
   <footer class="bg-gray-800 text-white py-8 mt-12">
    <div class="max-w-7xl mx-auto px-4 text-center">
     <div class="flex items-center justify-center gap-3 mb-4"><span class="text-3xl">ğŸ¦‹</span> <span class="title-font text-xl">Pembelajaran Pertumbuhan &amp; Perkembangan Hewan</span>
     </div>
     <p class="text-gray-400 text-sm">Media Pembelajaran Interaktif IPA</p>
     <p class="text-gray-500 text-xs mt-2">Â© 2024 - Dibuat untuk tujuan pendidikan</p>
    </div>
   </footer>
  </div>
  <script>
    // Default configuration
    const defaultConfig = {
      main_title: "Pertumbuhan & Perkembangan Hewan",
      teacher_name: "Pembelajaran Interaktif IPA"
    };

    let config = { ...defaultConfig };

    // Quiz Data - 10 HOTS Questions
    const quizData = [
      {
        level: "C4 - Menganalisis",
        question: "Seekor ikan pari (stingray) menghasilkan telur yang tetap berada di dalam tubuh induk sampai menetas. Anak yang lahir sudah berbentuk seperti induknya. Berdasarkan karakteristik ini, analisis tipe perkembangan embrio yang dimiliki ikan pari!",
        options: [
          "Ovipar, karena embrio berkembang dari telur",
          "Vivipar, karena anak lahir sudah berbentuk sempurna",
          "Ovovivipar, karena telur tetap di dalam tubuh sampai menetas",
          "Ovipar-vivipar, karena merupakan kombinasi kedua tipe"
        ],
        correct: 2,
        explanation: "Ikan pari termasuk ovovivipar karena embrio berkembang di dalam telur yang tetap berada di dalam tubuh induk sampai siap menetas. Meskipun anak lahir sudah sempurna, mereka tidak mendapat nutrisi dari plasenta seperti vivipar."
      },
      {
        level: "C5 - Mengevaluasi",
        question: "Pada telur ayam, jika cangkang telur dibuat kedap udara (ditutup lilin), embrio akan mati meskipun kuning telur masih tersedia banyak. Evaluasi mengapa hal ini dapat terjadi!",
        options: [
          "Embrio keracunan karena lilin masuk ke dalam telur",
          "Cangkang yang kedap menghalangi pertukaran gas Oâ‚‚ dan COâ‚‚",
          "Suhu telur menjadi terlalu panas karena tidak ada ventilasi",
          "Kuning telur menjadi rusak karena tidak ada sirkulasi udara"
        ],
        correct: 1,
        explanation: "Cangkang telur memiliki pori-pori mikroskopis yang memungkinkan pertukaran gas. Jika ditutup, embrio tidak dapat mengambil Oâ‚‚ dan membuang COâ‚‚, sehingga mengalami kematian karena asfiksia (kekurangan oksigen)."
      },
      {
        level: "C6 - Mencipta",
        question: "Jika kamu diminta merancang inkubator telur buatan untuk penetasan ayam, faktor apa yang PALING KRITIS harus dijaga berdasarkan fungsi struktur telur?",
        options: [
          "Cahaya terang agar embrio dapat berfotosintesis",
          "Kelembaban dan ventilasi untuk menjaga pertukaran gas dan mencegah dehidrasi",
          "Tekanan udara tinggi agar cangkang tidak retak",
          "Posisi telur selalu tegak agar kuning telur tidak turun"
        ],
        correct: 1,
        explanation: "Kelembaban dan ventilasi adalah faktor kritis. Kelembaban menjaga agar membran telur tidak kering (fungsi cairan amnion), sedangkan ventilasi memastikan pertukaran gas tetap berlangsung (fungsi cangkang dan albumen)."
      },
      {
        level: "C4 - Menganalisis",
        question: "Berudu katak bernapas dengan insang dan memiliki ekor panjang, sedangkan katak dewasa bernapas dengan paru-paru dan tidak berekor. Analisis mengapa perubahan ini diperlukan dalam siklus hidup katak!",
        options: [
          "Agar katak terlihat lebih menarik saat dewasa",
          "Untuk adaptasi dari lingkungan air ke lingkungan darat",
          "Karena insang dan ekor rusak selama pertumbuhan",
          "Agar katak dapat bereproduksi dengan lebih efektif"
        ],
        correct: 1,
        explanation: "Perubahan struktur tubuh katak (metamorfosis) merupakan adaptasi untuk transisi habitat. Insang dan ekor diperlukan untuk hidup di air, sedangkan paru-paru dan kaki diperlukan untuk hidup di darat. Ini menunjukkan adaptasi struktural yang luar biasa."
      },
      {
        level: "C5 - Mengevaluasi",
        question: "Bandingkan perkembangan embrio pada kucing (vivipar) dan ayam (ovipar). Evaluasi mana yang memberikan perlindungan lebih baik bagi embrio dan jelaskan alasannya!",
        options: [
          "Ovipar lebih baik karena cangkang sangat keras",
          "Vivipar lebih baik karena embrio terlindung di dalam tubuh induk dan mendapat nutrisi langsung",
          "Keduanya sama baiknya karena sama-sama melindungi embrio",
          "Ovipar lebih baik karena embrio tidak bergantung pada induk"
        ],
        correct: 1,
        explanation: "Vivipar memberikan perlindungan lebih optimal karena embrio terlindung di dalam tubuh induk, mendapat nutrisi berkelanjutan melalui plasenta, dan terhindar dari predator serta perubahan lingkungan ekstrem."
      },
      {
        level: "C6 - Mencipta",
        question: "Seekor ilmuwan ingin mengembangkan metode konservasi untuk spesies penyu yang terancam punah. Berdasarkan pemahamanmu tentang perkembangan embrio ovipar, strategi apa yang paling efektif?",
        options: [
          "Mengubah penyu menjadi vivipar melalui rekayasa genetika",
          "Mengumpulkan telur dari pantai dan menetaskannya di tempat yang aman dengan kondisi terkontrol",
          "Memberi makan penyu dewasa lebih banyak agar bertelur lebih sering",
          "Memindahkan semua penyu ke akuarium untuk perlindungan"
        ],
        correct: 1,
        explanation: "Mengumpulkan telur dan menetaskannya di tempat aman (hatchery) adalah strategi konservasi yang efektif. Ini melindungi telur dari predator dan memastikan kondisi optimal (suhu, kelembaban) untuk penetasan, meningkatkan tingkat keberhasilan hidup."
      },
      {
        level: "C4 - Menganalisis",
        question: "Pada metamorfosis sempurna kupu-kupu, fase pupa tidak makan sama sekali selama berminggu-minggu. Analisis bagaimana pupa bertahan hidup tanpa asupan makanan!",
        options: [
          "Pupa menyerap nutrisi dari udara melalui kulitnya",
          "Pupa menggunakan cadangan energi yang disimpan larva selama fase makan aktif",
          "Pupa melakukan fotosintesis seperti tumbuhan",
          "Pupa tidak memerlukan energi karena tidak bergerak"
        ],
        correct: 1,
        explanation: "Larva (ulat) makan secara aktif dan menyimpan banyak cadangan energi dalam tubuhnya. Energi ini digunakan selama fase pupa untuk proses reorganisasi total struktur tubuh menjadi imago (dewasa). Inilah mengapa larva sangat rakus makan."
      },
      {
        level: "C5 - Mengevaluasi",
        question: "Lobster mengalami molting (pergantian cangkang) untuk tumbuh. Evaluasi keuntungan dan kelemahan utama dari cara pertumbuhan ini!",
        options: [
          "Keuntungan: tumbuh tanpa batas; Kelemahan: rentan terhadap predator saat cangkang baru masih lunak",
          "Keuntungan: cangkang semakin keras; Kelemahan: memerlukan banyak energi",
          "Keuntungan: dapat mengganti bagian yang rusak; Kelemahan: proses sangat menyakitkan",
          "Keuntungan: tidak perlu makan; Kelemahan: cangkang baru tidak sekuat yang lama"
        ],
        correct: 0,
        explanation: "Molting memungkinkan lobster tumbuh tanpa batas ukuran (keuntungan utama). Namun, saat molting, lobster sangat rentan karena cangkang barunya masih lunak dan mudah diserang predator (kelemahan utama)."
      },
      {
        level: "C6 - Mencipta",
        question: "Jika kamu adalah seorang peneliti yang ingin mempercepat waktu penetasan lobster untuk keperluan budidaya, variabel apa yang paling logis untuk dimanipulasi berdasarkan siklus hidup lobster?",
        options: [
          "Meningkatkan kadar garam air laut menjadi sangat tinggi",
          "Mengatur suhu air dan ketersediaan nutrisi pada kondisi optimal",
          "Mengurangi jumlah air dalam kolam budidaya",
          "Memberikan cahaya matahari langsung 24 jam"
        ],
        correct: 1,
        explanation: "Suhu air dan nutrisi adalah faktor kunci perkembangan embrio dan larva lobster. Suhu optimal mempercepat metabolisme dan perkembangan, sedangkan nutrisi yang cukup memastikan larva memiliki energi untuk tumbuh melalui setiap tingkat."
      },
      {
        level: "C4 - Menganalisis",
        question: "Plasenta pada mamalia berfungsi sebagai 'jembatan' antara induk dan embrio, namun darah keduanya tidak pernah bercampur langsung. Analisis mekanisme yang memungkinkan pertukaran zat tetap terjadi!",
        options: [
          "Pertukaran terjadi melalui pipa kecil yang menghubungkan kedua sistem",
          "Pertukaran terjadi melalui proses difusi melewati dinding tipis pembuluh darah di plasenta",
          "Darah induk langsung disuntikkan ke tubuh embrio",
          "Embrio memproduksi sendiri semua zat yang dibutuhkan"
        ],
        correct: 1,
        explanation: "Pertukaran zat (Oâ‚‚, COâ‚‚, nutrisi, limbah) terjadi melalui difusi melewati dinding tipis pembuluh darah di plasenta. Darah induk dan embrio terpisah oleh membran tipis yang memungkinkan molekul kecil berdifusi tanpa pencampuran langsung."
      }
    ];

    let currentQuestion = 0;
    let score = 0;
    let answers = [];
    let quizCompleted = false;

    // Initialize application
    function initApp() {
      loadQuestion();
      updateProgress(0);
    }

    // Section Navigation
    function showSection(sectionId) {
      // Hide all sections
      document.querySelectorAll('section').forEach(section => {
        section.classList.add('section-hidden');
      });
      
      // Show target section
      const targetSection = document.getElementById(`section-${sectionId}`);
      if (targetSection) {
        targetSection.classList.remove('section-hidden');
      }
      
      // Update nav active state
      document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
        if (item.dataset.section === sectionId) {
          item.classList.add('active');
        }
      });
      
      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Progress Update
    function updateProgress(percent) {
      const progressBar = document.getElementById('progress-bar');
      const progressText = document.getElementById('progress-text');
      if (progressBar && progressText) {
        progressBar.style.width = `${percent}%`;
        progressText.textContent = `${percent}%`;
      }
    }

    // Metamorphosis Detail
    function showMetamorphosisDetail(phase) {
      const detailBox = document.getElementById('metamorphosis-detail');
      const details = {
        telur: {
          title: "Fase Telur",
          content: "Telur kupu-kupu diletakkan pada permukaan daun tanaman inang. Telur berukuran sangat kecil (sekitar 1-2 mm) dan berbentuk bulat atau oval. Di dalam telur, embrio berkembang selama 3-7 hari sebelum menetas menjadi larva."
        },
        ulat: {
          title: "Fase Larva (Ulat)",
          content: "Larva atau ulat adalah fase makan aktif. Ulat memiliki rahang kuat untuk mengunyah daun dan terus makan untuk menyimpan energi. Fase ini berlangsung 2-4 minggu. Ulat akan berganti kulit (molting) beberapa kali selama pertumbuhan."
        },
        pupa: {
          title: "Fase Pupa (Kepompong)",
          content: "Pada fase ini, ulat membentuk kepompong dan tidak makan sama sekali. Di dalam kepompong terjadi perombakan total struktur tubuh (histolisis dan histogenesis). Fase ini berlangsung 1-2 minggu tergantung spesies dan suhu lingkungan."
        },
        imago: {
          title: "Fase Imago (Dewasa)",
          content: "Kupu-kupu dewasa keluar dari kepompong dengan sayap yang masih basah dan keriput. Setelah sayap mengering dan mengeras, kupu-kupu siap terbang. Tugas utama kupu-kupu dewasa adalah bereproduksi dan menyebarkan keturunan."
        }
      };
      
      const info = details[phase];
      if (info && detailBox) {
        detailBox.innerHTML = `
          <div class="flex items-start gap-4">
            <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white text-xl flex-shrink-0">ğŸ”</div>
            <div>
              <h4 class="font-bold text-purple-800 mb-2">${info.title}</h4>
              <p class="text-gray-700">${info.content}</p>
            </div>
          </div>
        `;
      }
    }

    // Embryo Tab Navigation
    function showEmbryoTab(tabId) {
      // Hide all contents
      document.getElementById('content-ovipar').classList.add('hidden');
      document.getElementById('content-ovovivipar').classList.add('hidden');
      document.getElementById('content-vivipar').classList.add('hidden');
      
      // Remove active from all tabs
      document.getElementById('tab-ovipar').classList.remove('tab-active');
      document.getElementById('tab-ovovivipar').classList.remove('tab-active');
      document.getElementById('tab-vivipar').classList.remove('tab-active');
      
      document.getElementById('tab-ovipar').classList.add('text-gray-500');
      document.getElementById('tab-ovovivipar').classList.add('text-gray-500');
      document.getElementById('tab-vivipar').classList.add('text-gray-500');
      
      // Show selected content and activate tab
      document.getElementById(`content-${tabId}`).classList.remove('hidden');
      document.getElementById(`tab-${tabId}`).classList.add('tab-active');
      document.getElementById(`tab-${tabId}`).classList.remove('text-gray-500');
    }

    // Metamorphosis Tab Navigation
    function showMetaTab(tabId) {
      // Hide all contents
      document.getElementById('meta-content-sempurna').classList.add('hidden');
      document.getElementById('meta-content-tidak').classList.add('hidden');
      document.getElementById('meta-content-katak').classList.add('hidden');
      
      // Remove active from all tabs
      document.getElementById('meta-tab-sempurna').classList.remove('tab-active');
      document.getElementById('meta-tab-tidak').classList.remove('tab-active');
      document.getElementById('meta-tab-katak').classList.remove('tab-active');
      
      document.getElementById('meta-tab-sempurna').classList.add('text-gray-500');
      document.getElementById('meta-tab-tidak').classList.add('text-gray-500');
      document.getElementById('meta-tab-katak').classList.add('text-gray-500');
      
      // Show selected content and activate tab
      document.getElementById(`meta-content-${tabId}`).classList.remove('hidden');
      document.getElementById(`meta-tab-${tabId}`).classList.add('tab-active');
      document.getElementById(`meta-tab-${tabId}`).classList.remove('text-gray-500');
    }

    // Egg Part Detail
    function showEggPart(partId) {
      const parts = {
        cangkang: {
          icon: "ğŸ›¡ï¸",
          title: "Cangkang Telur",
          desc: "Cangkang telur terbuat dari kalsium karbonat dan memiliki ribuan pori-pori mikroskopis. Fungsinya: (1) Melindungi embrio dari benturan fisik, (2) Menjaga kelembaban internal, (3) Memungkinkan pertukaran gas Oâ‚‚ masuk dan COâ‚‚ keluar melalui pori-pori."
        },
        albumen: {
          icon: "ğŸ’¨",
          title: "Albumen (Putih Telur)",
          desc: "Albumen adalah cairan kental yang mengelilingi kuning telur. Fungsinya: (1) Media pertukaran oksigen dan karbon dioksida, (2) Cadangan air dan protein bagi embrio, (3) Bantalan pelindung tambahan dari guncangan."
        },
        kuning: {
          icon: "ğŸ³",
          title: "Kuning Telur (Yolk)",
          desc: "Kuning telur adalah sumber makanan utama embrio. Mengandung lemak, protein, vitamin, dan mineral yang dibutuhkan untuk pertumbuhan. Embrio terhubung ke kuning telur dan menyerap nutrisi secara bertahap hingga menetas."
        },
        amnion: {
          icon: "ğŸ’§",
          title: "Cairan Amnion",
          desc: "Cairan amnion adalah cairan yang mengisi kantung amnion dan mengelilingi embrio. Fungsinya: (1) Bantalan pelindung dari guncangan mekanis, (2) Menjaga kelembaban embrio, (3) Mencegah dehidrasi jaringan embrio."
        },
        alantois: {
          icon: "ğŸ—‘ï¸",
          title: "Alantois",
          desc: "Alantois adalah kantung yang berfungsi sebagai 'tempat sampah' embrio. Fungsinya: (1) Tempat menyimpan sisa metabolisme/kotoran embrio, (2) Membantu pertukaran gas dengan lingkungan, (3) Menyerap kalsium dari cangkang untuk tulang embrio."
        },
        embrio: {
          icon: "ğŸ§’",
          title: "Embrio",
          desc: "Embrio adalah calon individu baru yang berkembang dari zigot hasil pembuahan. Embrio mengambil nutrisi dari kuning telur, bernapas melalui pertukaran gas di albumen dan cangkang, serta membuang limbah ke alantois."
        }
      };
      
      const part = parts[partId];
      if (part) {
        document.getElementById('egg-icon').textContent = part.icon;
        document.getElementById('egg-part-title').textContent = part.title;
        document.getElementById('egg-part-desc').textContent = part.desc;
      }
    }

    // Quiz Functions
    function loadQuestion() {
      const q = quizData[currentQuestion];
      document.getElementById('current-question').textContent = currentQuestion + 1;
      document.getElementById('question-number').textContent = currentQuestion + 1;
      document.getElementById('question-level').textContent = q.level;
      document.getElementById('question-text').textContent = q.question;
      document.getElementById('quiz-progress').style.width = `${((currentQuestion + 1) / 10) * 100}%`;
      
      const optionsContainer = document.getElementById('options-container');
      optionsContainer.innerHTML = '';
      
      q.options.forEach((option, index) => {
        const btn = document.createElement('button');
        btn.className = 'quiz-option w-full text-left p-4 rounded-xl border-2 border-gray-200 bg-white hover:border-purple-400 hover:bg-purple-50 transition-all';
        btn.innerHTML = `
          <div class="flex items-start gap-3">
            <span class="w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center font-bold text-gray-600 flex-shrink-0">${String.fromCharCode(65 + index)}</span>
            <span class="text-gray-700">${option}</span>
          </div>
        `;
        
        if (answers[currentQuestion] !== undefined) {
          btn.disabled = true;
          if (index === q.correct) {
            btn.classList.add('correct');
          } else if (index === answers[currentQuestion] && index !== q.correct) {
            btn.classList.add('incorrect');
          }
        } else {
          btn.onclick = () => selectAnswer(index);
        }
        
        optionsContainer.appendChild(btn);
      });
      
      // Show/hide feedback
      const feedbackContainer = document.getElementById('feedback-container');
      if (answers[currentQuestion] !== undefined) {
        showFeedback();
        feedbackContainer.classList.remove('hidden');
      } else {
        feedbackContainer.classList.add('hidden');
      }
      
      // Update buttons
      document.getElementById('prev-btn').disabled = currentQuestion === 0;
      document.getElementById('next-btn').disabled = answers[currentQuestion] === undefined;
      
      if (currentQuestion === 9 && answers[currentQuestion] !== undefined) {
        document.getElementById('next-btn').textContent = 'Lihat Hasil â†’';
      } else {
        document.getElementById('next-btn').textContent = 'Selanjutnya â†’';
      }
    }

    function selectAnswer(index) {
      const q = quizData[currentQuestion];
      answers[currentQuestion] = index;
      
      if (index === q.correct) {
        score++;
        document.getElementById('quiz-score').textContent = score;
      }
      
      // Disable all options and show correct/incorrect
      const options = document.querySelectorAll('.quiz-option');
      options.forEach((btn, i) => {
        btn.disabled = true;
        if (i === q.correct) {
          btn.classList.add('correct');
        } else if (i === index && i !== q.correct) {
          btn.classList.add('incorrect');
        }
      });
      
      showFeedback();
      document.getElementById('next-btn').disabled = false;
    }

    function showFeedback() {
      const q = quizData[currentQuestion];
      const isCorrect = answers[currentQuestion] === q.correct;
      
      const feedbackContainer = document.getElementById('feedback-container');
      feedbackContainer.classList.remove('hidden');
      
      document.getElementById('feedback-icon').textContent = isCorrect ? 'âœ…' : 'âŒ';
      document.getElementById('feedback-title').textContent = isCorrect ? 'Benar! Hebat!' : 'Belum Tepat';
      document.getElementById('feedback-title').className = isCorrect ? 'font-bold text-lg mb-2 text-green-600' : 'font-bold text-lg mb-2 text-red-600';
      document.getElementById('feedback-text').textContent = q.explanation;
      feedbackContainer.className = isCorrect ? 'bg-green-50 rounded-2xl p-5 mb-6 border-2 border-green-200' : 'bg-red-50 rounded-2xl p-5 mb-6 border-2 border-red-200';
    }

    function nextQuestion() {
      if (currentQuestion < 9) {
        currentQuestion++;
        loadQuestion();
      } else {
        showResults();
      }
    }

    function prevQuestion() {
      if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion();
      }
    }

    function showResults() {
      document.getElementById('quiz-container').classList.add('hidden');
      document.getElementById('results-container').classList.remove('hidden');
      
      const percentage = (score / 10) * 100;
      document.getElementById('final-score').textContent = score;
      document.getElementById('score-percentage').textContent = `${percentage}%`;
      document.getElementById('correct-count').textContent = score;
      document.getElementById('wrong-count').textContent = 10 - score;
      
      let emoji, message;
      if (percentage >= 90) {
        emoji = 'ğŸ†';
        message = '<span class="text-green-600">Luar Biasa! Kamu menguasai materi dengan sangat baik!</span>';
      } else if (percentage >= 70) {
        emoji = 'ğŸŒŸ';
        message = '<span class="text-blue-600">Bagus! Pemahamanmu sudah baik, terus tingkatkan!</span>';
      } else if (percentage >= 50) {
        emoji = 'ğŸ’ª';
        message = '<span class="text-yellow-600">Cukup baik! Pelajari lagi bagian yang masih kurang.</span>';
      } else {
        emoji = 'ğŸ“š';
        message = '<span class="text-red-600">Perlu belajar lebih giat. Ulangi materi dan coba lagi!</span>';
      }
      
      document.getElementById('results-emoji').textContent = emoji;
      document.getElementById('score-message').innerHTML = message;
      
      updateProgress(100);
    }

    function resetQuiz() {
      currentQuestion = 0;
      score = 0;
      answers = [];
      
      document.getElementById('quiz-score').textContent = '0';
      document.getElementById('quiz-container').classList.remove('hidden');
      document.getElementById('results-container').classList.add('hidden');
      
      loadQuestion();
    }

    // Element SDK Integration
    function onConfigChange(newConfig) {
      config = { ...defaultConfig, ...newConfig };
      
      const mainTitle = document.getElementById('main-title');
      const teacherDisplay = document.getElementById('teacher-display');
      
      if (mainTitle) {
        mainTitle.textContent = config.main_title || defaultConfig.main_title;
      }
      if (teacherDisplay) {
        teacherDisplay.textContent = config.teacher_name || defaultConfig.teacher_name;
      }
    }

    // Initialize Element SDK
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (cfg) => ({
          recolorables: [],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (cfg) => new Map([
          ["main_title", cfg.main_title || defaultConfig.main_title],
          ["teacher_name", cfg.teacher_name || defaultConfig.teacher_name]
        ])
      });
    }

    // Initialize app on load
    initApp();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9ca9ac5a33783ef7',t:'MTc3MDUzODQ2NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>